<!DOCTYPE html  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>Z_UPDATE_ATC</title>
<meta name="GENERATOR" content="AB4Editor Control" />
<style type="text/css">
SPAN {
font-family: "Courier New";
font-size: 10pt;
color: #000000;
background: #FFFFFF;
}
.L0S31 {
font-style: italic;
color: #808080;
}
.L0S32 {
color: #3399FF;
}
.L0S33 {
color: #4DA619;
}
.L0S52 {
color: #0000FF;
}
.L0S55 {
color: #800080;
}
.L0S70 {
color: #808080;
}
</style>
</head>
<body>
<span><span class="L0S31">*&amp;---------------------------------------------------------------------*</span><br>
<span class="L0S31">*&amp;&nbsp;Report&nbsp;Z_UPDATE_ATC</span><br>
<span class="L0S31">*&amp;---------------------------------------------------------------------*</span><br>
<span class="L0S31">*&amp;</span><br>
<span class="L0S31">*&amp;---------------------------------------------------------------------*</span><br>
<span class="L0S52">REPORT&nbsp;</span>z_update_atc<span class="L0S55">.</span><br>
<br>
<span class="L0S52">TABLES</span><span class="L0S55">:&nbsp;</span>e071<span class="L0S55">.</span><br>
<br>
<span class="L0S52">TYPES</span><span class="L0S55">:&nbsp;</span><span class="L0S52">BEGIN&nbsp;</span><span class="L0S52">OF&nbsp;</span>ty_file<span class="L0S55">,</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;object_type&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">TYPE&nbsp;</span>string<span class="L0S55">,</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;object_name_3&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">TYPE&nbsp;</span>trobj_name<span class="L0S55">,</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;message_text<span class="L0S55">(</span><span class="L0S32">1000</span><span class="L0S55">)&nbsp;</span><span class="L0S52">TYPE&nbsp;</span><span class="L0S52">c</span><span class="L0S55">,</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;object_name&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">TYPE&nbsp;</span>trobj_name<span class="L0S55">,</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;super_object_name&nbsp;&nbsp;<span class="L0S52">TYPE&nbsp;</span>trobj_name<span class="L0S55">,</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">END&nbsp;</span><span class="L0S52">OF&nbsp;</span>ty_file<span class="L0S55">,</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">BEGIN&nbsp;</span><span class="L0S52">OF&nbsp;</span>ty_alv<span class="L0S55">,</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">icon&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="L0S52">TYPE&nbsp;</span>icon_d<span class="L0S55">,</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;object_type&nbsp;&nbsp;&nbsp;<span class="L0S52">TYPE&nbsp;</span>trobjtype<span class="L0S55">,</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;object_name_3&nbsp;<span class="L0S52">TYPE&nbsp;</span>trobj_name<span class="L0S55">,</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;transport_key&nbsp;<span class="L0S52">TYPE&nbsp;</span>trkorr<span class="L0S55">,</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;reason&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">TYPE&nbsp;</span>bapi_msg<span class="L0S55">,</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">END&nbsp;</span><span class="L0S52">OF&nbsp;</span>ty_alv<span class="L0S55">.</span><br>
<br>
<span class="L0S52">DATA</span><span class="L0S55">:&nbsp;</span>gt_file&nbsp;&nbsp;&nbsp;<span class="L0S52">TYPE&nbsp;</span><span class="L0S52">TABLE&nbsp;</span><span class="L0S52">OF&nbsp;</span>ty_file<span class="L0S55">,</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;gt_e071&nbsp;&nbsp;&nbsp;<span class="L0S52">TYPE&nbsp;</span><span class="L0S52">TABLE&nbsp;</span><span class="L0S52">OF&nbsp;</span>e071<span class="L0S55">,</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;gt_e070&nbsp;&nbsp;&nbsp;<span class="L0S52">TYPE&nbsp;</span><span class="L0S52">TABLE&nbsp;</span><span class="L0S52">OF&nbsp;</span>e070<span class="L0S55">,</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;gt_e070_2&nbsp;<span class="L0S52">TYPE&nbsp;</span><span class="L0S52">TABLE&nbsp;</span><span class="L0S52">OF&nbsp;</span>e070<span class="L0S55">,</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;gt_e07t&nbsp;&nbsp;&nbsp;<span class="L0S52">TYPE&nbsp;</span><span class="L0S52">TABLE&nbsp;</span><span class="L0S52">OF&nbsp;</span>e07t<span class="L0S55">,</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;gt_alv&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">TYPE&nbsp;</span><span class="L0S52">TABLE&nbsp;</span><span class="L0S52">OF&nbsp;</span>ty_alv<span class="L0S55">,</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;gt_repos&nbsp;&nbsp;<span class="L0S52">TYPE&nbsp;</span><span class="L0S52">TABLE&nbsp;</span><span class="L0S52">OF&nbsp;</span>abaptxt255<span class="L0S55">,</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;gt_trdir&nbsp;&nbsp;<span class="L0S52">TYPE&nbsp;</span><span class="L0S52">TABLE&nbsp;</span><span class="L0S52">OF&nbsp;</span>trdir<span class="L0S55">,</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;gv_tot&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">TYPE&nbsp;</span><span class="L0S52">i</span><span class="L0S55">,</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;gv_cur&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">TYPE&nbsp;</span><span class="L0S52">i</span><span class="L0S55">.</span><br>
<br>
<span class="L0S52">DATA</span><span class="L0S55">:&nbsp;</span>gs_file&nbsp;<span class="L0S52">TYPE&nbsp;</span>ty_file<span class="L0S55">,</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;gs_e071&nbsp;<span class="L0S52">TYPE&nbsp;</span>e071<span class="L0S55">.</span><br>
<br>
<span class="L0S52">DATA</span><span class="L0S55">:&nbsp;</span>gv_enhname&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">TYPE&nbsp;</span>enhincinx<span class="L0S70">-</span>enhname<span class="L0S55">,</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;gv_trkorr&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">TYPE&nbsp;</span>e070<span class="L0S70">-</span>trkorr<span class="L0S55">,</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;gv_last_request_transported&nbsp;<span class="L0S52">TYPE&nbsp;</span>bool<span class="L0S55">,</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;gv_source_updated&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">TYPE&nbsp;</span>bool<span class="L0S55">,</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;gv_source_saved&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">TYPE&nbsp;</span>bool<span class="L0S55">.</span><br>
<br>
<span class="L0S52">DATA</span><span class="L0S55">:&nbsp;</span>cl_salv_table&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">TYPE&nbsp;</span><span class="L0S52">REF&nbsp;</span><span class="L0S52">TO&nbsp;</span>cl_salv_table<span class="L0S55">,</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cl_salv_functions&nbsp;<span class="L0S52">TYPE&nbsp;</span><span class="L0S52">REF&nbsp;</span><span class="L0S52">TO&nbsp;</span>cl_salv_functions_list<span class="L0S55">.</span><br>
<br>
<span class="L0S52">CONSTANTS</span><span class="L0S55">:&nbsp;</span>gc_stepid_g&nbsp;<span class="L0S52">TYPE&nbsp;</span>trbatfunc&nbsp;<span class="L0S52">VALUE&nbsp;</span><span class="L0S33">'G'</span><span class="L0S55">,</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;gc_stepid_r&nbsp;<span class="L0S52">TYPE&nbsp;</span>trbatfunc&nbsp;<span class="L0S52">VALUE&nbsp;</span><span class="L0S33">'R'</span><span class="L0S55">,</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;gc_rc&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">TYPE&nbsp;</span>tstrfcofil<span class="L0S70">-</span>retcode&nbsp;<span class="L0S52">VALUE&nbsp;</span><span class="L0S33">'8'</span><span class="L0S55">,</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;gc_limu&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">TYPE&nbsp;</span>versobjtyp&nbsp;&nbsp;<span class="L0S52">VALUE&nbsp;</span><span class="L0S33">'LIMU'</span><span class="L0S55">,</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;gc_prog&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">TYPE&nbsp;</span>versobjtyp&nbsp;<span class="L0S52">VALUE&nbsp;</span><span class="L0S33">'PROG'</span><span class="L0S55">,</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;gc_reps&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">TYPE&nbsp;</span>versobjtyp&nbsp;<span class="L0S52">VALUE&nbsp;</span><span class="L0S33">'REPS'</span><span class="L0S55">,</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;gc_clas&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">TYPE&nbsp;</span>versobjtyp&nbsp;&nbsp;<span class="L0S52">VALUE&nbsp;</span><span class="L0S33">'CLAS'</span><span class="L0S55">,</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;gc_meth&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">TYPE&nbsp;</span>versobjtyp&nbsp;&nbsp;<span class="L0S52">VALUE&nbsp;</span><span class="L0S33">'METH'</span><span class="L0S55">,</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;gc_fugr&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">TYPE&nbsp;</span>versobjtyp&nbsp;<span class="L0S52">VALUE&nbsp;</span><span class="L0S33">'FUGR'</span><span class="L0S55">,</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;gc_func&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">TYPE&nbsp;</span>versobjtyp&nbsp;&nbsp;<span class="L0S52">VALUE&nbsp;</span><span class="L0S33">'FUNC'</span><span class="L0S55">,</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;gc_langu&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">TYPE&nbsp;</span>ddlanguage&nbsp;<span class="L0S52">VALUE&nbsp;</span><span class="L0S33">'EN'</span><span class="L0S55">,</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;gc_de1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">TYPE&nbsp;</span>trtarsys&nbsp;<span class="L0S52">VALUE&nbsp;</span><span class="L0S33">'DE1'</span><span class="L0S55">,</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;gc_qe1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">TYPE&nbsp;</span>trtarsys&nbsp;<span class="L0S52">VALUE&nbsp;</span><span class="L0S33">'QE1'</span><span class="L0S55">,</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;gc_ie1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">TYPE&nbsp;</span>trtarsys&nbsp;<span class="L0S52">VALUE&nbsp;</span><span class="L0S33">'IE1'</span><span class="L0S55">,</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;gc_me1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">TYPE&nbsp;</span>trtarsys&nbsp;<span class="L0S52">VALUE&nbsp;</span><span class="L0S33">'ME1'</span><span class="L0S55">,</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;gc_pe1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">TYPE&nbsp;</span>trtarsys&nbsp;<span class="L0S52">VALUE&nbsp;</span><span class="L0S33">'PE1'</span><span class="L0S55">.</span><br>
<br>
<span class="L0S52">SELECTION-SCREEN&nbsp;</span><span class="L0S52">BEGIN&nbsp;</span><span class="L0S52">OF&nbsp;</span><span class="L0S52">BLOCK&nbsp;</span>b01&nbsp;<span class="L0S52">WITH&nbsp;</span><span class="L0S52">FRAME&nbsp;</span><span class="L0S52">TITLE&nbsp;</span><span class="L0S52">TEXT</span><span class="L0S70">-</span>b01<span class="L0S55">.</span><br>
&nbsp;&nbsp;<span class="L0S52">PARAMETERS</span><span class="L0S55">:&nbsp;</span>r_file&nbsp;<span class="L0S52">RADIOBUTTON&nbsp;</span><span class="L0S52">GROUP&nbsp;</span>r001&nbsp;<span class="L0S52">DEFAULT&nbsp;</span><span class="L0S33">'X'&nbsp;</span><span class="L0S52">USER-COMMAND&nbsp;</span>uc1<span class="L0S55">.</span><br>
&nbsp;&nbsp;<span class="L0S52">PARAMETERS</span><span class="L0S55">:&nbsp;</span>p_file&nbsp;&nbsp;&nbsp;<span class="L0S52">LIKE&nbsp;</span>rlgrap<span class="L0S70">-</span>filename&nbsp;MODIF&nbsp;<span class="L0S52">ID&nbsp;</span>rg2<span class="L0S55">,</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;p_sep<span class="L0S55">(</span><span class="L0S32">1</span><span class="L0S55">)&nbsp;</span><span class="L0S52">DEFAULT&nbsp;</span><span class="L0S33">';'&nbsp;</span>MODIF&nbsp;<span class="L0S52">ID&nbsp;</span>rg2<span class="L0S55">.</span><br>
&nbsp;&nbsp;<span class="L0S52">PARAMETERS</span><span class="L0S55">:&nbsp;</span>r_nofile&nbsp;<span class="L0S52">RADIOBUTTON&nbsp;</span><span class="L0S52">GROUP&nbsp;</span>r001&nbsp;<span class="L0S55">.</span><br>
&nbsp;&nbsp;<span class="L0S52">SELECT-OPTIONS</span><span class="L0S55">:&nbsp;</span>s_obj&nbsp;<span class="L0S52">FOR&nbsp;</span>e071<span class="L0S70">-</span>obj_name&nbsp;MODIF&nbsp;<span class="L0S52">ID&nbsp;</span>rg1<span class="L0S55">.</span><br>
&nbsp;&nbsp;<span class="L0S52">PARAMETERS</span><span class="L0S55">:&nbsp;</span>p_trkor&nbsp;<span class="L0S52">TYPE&nbsp;</span>e070<span class="L0S70">-</span>trkorr&nbsp;OBLIGATORY<span class="L0S55">,</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;p_test&nbsp;&nbsp;<span class="L0S52">AS&nbsp;</span><span class="L0S52">CHECKBOX&nbsp;</span><span class="L0S52">DEFAULT&nbsp;</span><span class="L0S33">'X'</span><span class="L0S55">.</span><br>
<span class="L0S52">SELECTION-SCREEN&nbsp;</span><span class="L0S52">END&nbsp;</span><span class="L0S52">OF&nbsp;</span><span class="L0S52">BLOCK&nbsp;</span>b01<span class="L0S55">.</span><br>
<br>
<span class="L0S52">AT&nbsp;</span><span class="L0S52">SELECTION-SCREEN&nbsp;</span><span class="L0S52">OUTPUT</span><span class="L0S55">.</span><br>
&nbsp;&nbsp;<span class="L0S52">PERFORM&nbsp;</span>control_screen<span class="L0S55">.</span><br>
<br>
<span class="L0S52">AT&nbsp;</span><span class="L0S52">SELECTION-SCREEN&nbsp;</span><span class="L0S52">ON&nbsp;</span><span class="L0S52">VALUE-REQUEST&nbsp;</span><span class="L0S52">FOR&nbsp;</span>p_file<span class="L0S55">.</span><br>
&nbsp;&nbsp;<span class="L0S52">PERFORM&nbsp;</span>select_file<span class="L0S55">.</span><br>
<br>
<span class="L0S52">START-OF-SELECTION</span><span class="L0S55">.</span><br>
&nbsp;&nbsp;<span class="L0S52">PERFORM&nbsp;</span>get_objects<span class="L0S55">.</span><br>
&nbsp;&nbsp;<span class="L0S52">PERFORM&nbsp;</span>select_data<span class="L0S55">.</span><br>
&nbsp;&nbsp;<span class="L0S52">PERFORM&nbsp;</span>update_objects<span class="L0S55">.</span><br>
&nbsp;&nbsp;<span class="L0S52">PERFORM&nbsp;</span>display_results<span class="L0S55">.</span><br>
<br>
<span class="L0S52">END-OF-SELECTION</span><span class="L0S55">.</span><br>
<br>
<span class="L0S31">*&amp;---------------------------------------------------------------------*</span><br>
<span class="L0S31">*&amp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Form&nbsp;&nbsp;CONTROL_SCREEN</span><br>
<span class="L0S31">*&amp;---------------------------------------------------------------------*</span><br>
<span class="L0S52">FORM&nbsp;</span>control_screen&nbsp;<span class="L0S55">.</span><br>
<br>
&nbsp;&nbsp;<span class="L0S52">LOOP&nbsp;</span><span class="L0S52">AT&nbsp;</span><span class="L0S52">SCREEN</span><span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">IF&nbsp;</span>r_file&nbsp;<span class="L0S55">=&nbsp;</span><span class="L0S33">'X'</span><span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">IF&nbsp;</span><span class="L0S52">screen</span><span class="L0S70">-</span>group1&nbsp;<span class="L0S55">=&nbsp;</span><span class="L0S33">'RG1'</span><span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">screen</span><span class="L0S70">-</span>active&nbsp;<span class="L0S55">=&nbsp;</span><span class="L0S33">'0'</span><span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">screen</span><span class="L0S70">-</span><span class="L0S52">input&nbsp;</span><span class="L0S55">=&nbsp;</span><span class="L0S33">'0'</span><span class="L0S55">.</span><br>
<span class="L0S31">*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;screen-required&nbsp;=&nbsp;'0'.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">MODIFY&nbsp;</span><span class="L0S52">SCREEN</span><span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">ENDIF</span><span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">IF&nbsp;</span><span class="L0S52">screen</span><span class="L0S70">-</span>group1&nbsp;<span class="L0S55">=&nbsp;</span><span class="L0S33">'RG2'</span><span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">screen</span><span class="L0S70">-</span>active&nbsp;<span class="L0S55">=&nbsp;</span><span class="L0S33">'1'</span><span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">screen</span><span class="L0S70">-</span><span class="L0S52">input&nbsp;</span><span class="L0S55">=&nbsp;</span><span class="L0S33">'1'</span><span class="L0S55">.</span><br>
<span class="L0S31">*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;screen-required&nbsp;=&nbsp;'1'.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">MODIFY&nbsp;</span><span class="L0S52">SCREEN</span><span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">ENDIF</span><span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">ELSEIF&nbsp;</span>r_nofile&nbsp;<span class="L0S55">=&nbsp;</span><span class="L0S33">'X'</span><span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">IF&nbsp;</span><span class="L0S52">screen</span><span class="L0S70">-</span>group1&nbsp;<span class="L0S55">=&nbsp;</span><span class="L0S33">'RG1'</span><span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">screen</span><span class="L0S70">-</span>active&nbsp;<span class="L0S55">=&nbsp;</span><span class="L0S33">'1'</span><span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">screen</span><span class="L0S70">-</span><span class="L0S52">input&nbsp;</span><span class="L0S55">=&nbsp;</span><span class="L0S33">'1'</span><span class="L0S55">.</span><br>
<span class="L0S31">*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;screen-required&nbsp;=&nbsp;'1'.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">MODIFY&nbsp;</span><span class="L0S52">SCREEN</span><span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">ENDIF</span><span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">IF&nbsp;</span><span class="L0S52">screen</span><span class="L0S70">-</span>group1&nbsp;<span class="L0S55">=&nbsp;</span><span class="L0S33">'RG2'</span><span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">screen</span><span class="L0S70">-</span>active&nbsp;<span class="L0S55">=&nbsp;</span><span class="L0S33">'0'</span><span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">screen</span><span class="L0S70">-</span><span class="L0S52">input&nbsp;</span><span class="L0S55">=&nbsp;</span><span class="L0S33">'0'</span><span class="L0S55">.</span><br>
<span class="L0S31">*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;screen-required&nbsp;=&nbsp;'0'.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">MODIFY&nbsp;</span><span class="L0S52">SCREEN</span><span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">ENDIF</span><span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">ENDIF</span><span class="L0S55">.</span><br>
&nbsp;&nbsp;<span class="L0S52">ENDLOOP</span><span class="L0S55">.</span><br>
<br>
<span class="L0S52">ENDFORM</span><span class="L0S55">.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="L0S31">&quot;&nbsp;CONTROL_SCREEN</span><br>
<span class="L0S31">*&amp;---------------------------------------------------------------------*</span><br>
<span class="L0S31">*&amp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Form&nbsp;&nbsp;SELECT_FILE</span><br>
<span class="L0S31">*&amp;---------------------------------------------------------------------*</span><br>
<span class="L0S52">FORM&nbsp;</span>select_file<span class="L0S55">.</span><br>
<br>
&nbsp;&nbsp;<span class="L0S52">CALL&nbsp;</span><span class="L0S52">FUNCTION&nbsp;</span><span class="L0S33">'F4_FILENAME'</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">IMPORTING</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_name&nbsp;<span class="L0S55">=&nbsp;</span>p_file<span class="L0S55">.</span><br>
<br>
<span class="L0S52">ENDFORM</span><span class="L0S55">.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="L0S31">&quot;&nbsp;SELECT_FILE</span><br>
<span class="L0S31">*&amp;---------------------------------------------------------------------*</span><br>
<span class="L0S31">*&amp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Form&nbsp;&nbsp;UPLOAD_FILE</span><br>
<span class="L0S31">*&amp;---------------------------------------------------------------------*</span><br>
<span class="L0S52">FORM&nbsp;</span>upload_file<span class="L0S55">.</span><br>
<br>
&nbsp;&nbsp;<span class="L0S52">DATA</span><span class="L0S55">:&nbsp;</span>lt_data_tab&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">TYPE&nbsp;</span><span class="L0S52">TABLE&nbsp;</span><span class="L0S52">OF&nbsp;</span>string<span class="L0S55">,</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lt_data_tab_splitted&nbsp;<span class="L0S52">TYPE&nbsp;</span><span class="L0S52">TABLE&nbsp;</span><span class="L0S52">OF&nbsp;</span>string<span class="L0S55">.</span><br>
<br>
&nbsp;&nbsp;<span class="L0S52">DATA</span><span class="L0S55">:&nbsp;</span>ls_data_tab&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">TYPE&nbsp;</span>string<span class="L0S55">,</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ls_data_tab_splitted&nbsp;<span class="L0S52">TYPE&nbsp;</span>string<span class="L0S55">,</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ls_obj&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">TYPE&nbsp;</span>trobj_name<span class="L0S55">.</span><br>
<br>
&nbsp;&nbsp;<span class="L0S52">DATA</span><span class="L0S55">:&nbsp;</span>lv_filename&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">TYPE&nbsp;</span>string<span class="L0S55">,</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lv_tabix&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">TYPE&nbsp;</span>sy<span class="L0S70">-</span>tabix<span class="L0S55">,</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lv_table<span class="L0S55">(</span><span class="L0S32">65535</span><span class="L0S55">)&nbsp;</span><span class="L0S52">TYPE&nbsp;</span><span class="L0S52">c</span><span class="L0S55">,</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lv_line<span class="L0S55">(</span><span class="L0S32">65535</span><span class="L0S55">)&nbsp;&nbsp;</span><span class="L0S52">TYPE&nbsp;</span><span class="L0S52">c</span><span class="L0S55">.</span><br>
<br>
&nbsp;&nbsp;lv_filename&nbsp;<span class="L0S55">=&nbsp;</span>p_file<span class="L0S55">.</span><br>
<br>
&nbsp;&nbsp;<span class="L0S52">CALL&nbsp;</span><span class="L0S52">FUNCTION&nbsp;</span><span class="L0S33">'GUI_UPLOAD'</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">EXPORTING</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;filename&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S55">=&nbsp;</span>lv_filename<br>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">TABLES</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;data_tab&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S55">=&nbsp;</span>lt_data_tab<br>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">EXCEPTIONS</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_write_error&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S55">=&nbsp;</span><span class="L0S32">1</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;no_batch&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S55">=&nbsp;</span><span class="L0S32">2</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;gui_refuse_filetransfer&nbsp;<span class="L0S55">=&nbsp;</span><span class="L0S32">3</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;invalid_type&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S55">=&nbsp;</span><span class="L0S32">4</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;no_authority&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S55">=&nbsp;</span><span class="L0S32">5</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;unknown_error&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S55">=&nbsp;</span><span class="L0S32">6</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;header_not_allowed&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S55">=&nbsp;</span><span class="L0S32">7</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;separator_not_allowed&nbsp;&nbsp;&nbsp;<span class="L0S55">=&nbsp;</span><span class="L0S32">8</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;filesize_not_allowed&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S55">=&nbsp;</span><span class="L0S32">9</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;header_too_long&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S55">=&nbsp;</span><span class="L0S32">10</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dp_error_create&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S55">=&nbsp;</span><span class="L0S32">11</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dp_error_send&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S55">=&nbsp;</span><span class="L0S32">12</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dp_error_write&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S55">=&nbsp;</span><span class="L0S32">13</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;unknown_dp_error&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S55">=&nbsp;</span><span class="L0S32">14</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;access_denied&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S55">=&nbsp;</span><span class="L0S32">15</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dp_out_of_memory&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S55">=&nbsp;</span><span class="L0S32">16</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;disk_full&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S55">=&nbsp;</span><span class="L0S32">17</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dp_timeout&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S55">=&nbsp;</span><span class="L0S32">18</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_not_found&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S55">=&nbsp;</span><span class="L0S32">19</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dataprovider_exception&nbsp;&nbsp;<span class="L0S55">=&nbsp;</span><span class="L0S32">20</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;control_flush_error&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S55">=&nbsp;</span><span class="L0S32">21</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">OTHERS&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="L0S55">=&nbsp;</span><span class="L0S32">22</span><span class="L0S55">.</span><br>
<br>
&nbsp;&nbsp;<span class="L0S52">IF&nbsp;</span>sy<span class="L0S70">-</span>subrc&nbsp;<span class="L0S55">=&nbsp;</span><span class="L0S32">0</span><span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">CLEAR</span><span class="L0S55">:&nbsp;</span>gt_file[]<span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">LOOP&nbsp;</span><span class="L0S52">AT&nbsp;</span>lt_data_tab&nbsp;<span class="L0S52">INTO&nbsp;</span>ls_data_tab<span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">CLEAR</span><span class="L0S55">:&nbsp;</span>gs_file<span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lv_tabix&nbsp;<span class="L0S55">=&nbsp;</span>sy<span class="L0S70">-</span>tabix<span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">IF&nbsp;</span>lv_tabix&nbsp;&gt;&nbsp;<span class="L0S32">1</span><span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">CLEAR</span><span class="L0S55">:&nbsp;</span>lt_data_tab_splitted[]<span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">SPLIT&nbsp;</span>ls_data_tab&nbsp;<span class="L0S52">AT&nbsp;</span>p_sep&nbsp;<span class="L0S52">INTO&nbsp;</span><span class="L0S52">TABLE&nbsp;</span>lt_data_tab_splitted<span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">READ&nbsp;</span><span class="L0S52">TABLE&nbsp;</span>lt_data_tab_splitted&nbsp;<span class="L0S52">INTO&nbsp;</span>ls_data_tab_splitted&nbsp;<span class="L0S52">INDEX&nbsp;</span><span class="L0S32">1</span><span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">IF&nbsp;</span>sy<span class="L0S70">-</span>subrc&nbsp;<span class="L0S55">=&nbsp;</span><span class="L0S32">0</span><span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;gs_file<span class="L0S70">-</span>object_type&nbsp;<span class="L0S55">=&nbsp;</span>ls_data_tab_splitted<span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">ENDIF</span><span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">READ&nbsp;</span><span class="L0S52">TABLE&nbsp;</span>lt_data_tab_splitted&nbsp;<span class="L0S52">INTO&nbsp;</span>ls_data_tab_splitted&nbsp;<span class="L0S52">INDEX&nbsp;</span><span class="L0S32">11</span><span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">IF&nbsp;</span>sy<span class="L0S70">-</span>subrc&nbsp;<span class="L0S55">=&nbsp;</span><span class="L0S32">0</span><span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;gs_file<span class="L0S70">-</span>message_text&nbsp;<span class="L0S55">=&nbsp;</span>ls_data_tab_splitted<span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">IF&nbsp;</span><span class="L0S52">NOT&nbsp;</span>gs_file<span class="L0S70">-</span>message_text&nbsp;<span class="L0S55">=&nbsp;</span><span class="L0S33">'at&nbsp;Include'</span><span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">SPLIT&nbsp;</span>gs_file<span class="L0S70">-</span>message_text&nbsp;<span class="L0S52">AT&nbsp;</span><span class="L0S33">'at&nbsp;Include'&nbsp;</span><span class="L0S52">INTO&nbsp;</span>lv_table&nbsp;lv_line<span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">SHIFT&nbsp;</span>lv_line&nbsp;<span class="L0S52">LEFT&nbsp;</span>DELETING&nbsp;<span class="L0S52">LEADING&nbsp;</span>space<span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">SPLIT&nbsp;</span>lv_line&nbsp;<span class="L0S52">AT&nbsp;</span>space&nbsp;<span class="L0S52">INTO&nbsp;</span>lv_line&nbsp;lv_table<span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">IF&nbsp;</span><span class="L0S52">NOT&nbsp;</span>lv_line&nbsp;<span class="L0S52">IS&nbsp;</span><span class="L0S52">INITIAL</span><span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;gs_file<span class="L0S70">-</span>object_name_3&nbsp;<span class="L0S55">=&nbsp;</span>lv_line<span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">ENDIF</span><span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">ENDIF</span><span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">ENDIF</span><span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">IF&nbsp;</span>gs_file<span class="L0S70">-</span>object_name_3&nbsp;<span class="L0S52">IS&nbsp;</span><span class="L0S52">INITIAL</span><span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">READ&nbsp;</span><span class="L0S52">TABLE&nbsp;</span>lt_data_tab_splitted&nbsp;<span class="L0S52">INTO&nbsp;</span>ls_data_tab_splitted&nbsp;<span class="L0S52">INDEX&nbsp;</span><span class="L0S32">13</span><span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">IF&nbsp;</span>sy<span class="L0S70">-</span>subrc&nbsp;<span class="L0S55">=&nbsp;</span><span class="L0S32">0</span><span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;gs_file<span class="L0S70">-</span>object_name_3&nbsp;<span class="L0S55">=&nbsp;</span>ls_data_tab_splitted<span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">ENDIF</span><span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">ENDIF</span><span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">APPEND&nbsp;</span>gs_file&nbsp;<span class="L0S52">TO&nbsp;</span>gt_file<span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">ENDIF</span><span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">ENDLOOP</span><span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">SORT&nbsp;</span>gt_file&nbsp;<span class="L0S52">BY&nbsp;</span>object_type&nbsp;object_name_3<span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">DELETE&nbsp;</span><span class="L0S52">ADJACENT&nbsp;</span><span class="L0S52">DUPLICATES&nbsp;</span><span class="L0S52">FROM&nbsp;</span>gt_file&nbsp;<span class="L0S52">COMPARING&nbsp;</span>object_type&nbsp;object_name_3<span class="L0S55">.</span><br>
&nbsp;&nbsp;<span class="L0S52">ENDIF</span><span class="L0S55">.</span><br>
<br>
<span class="L0S52">ENDFORM</span><span class="L0S55">.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="L0S31">&quot;&nbsp;UPLOAD_FILE</span><br>
<span class="L0S31">*&amp;---------------------------------------------------------------------*</span><br>
<span class="L0S31">*&amp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Form&nbsp;&nbsp;COMPLETE_FILE</span><br>
<span class="L0S31">*&amp;---------------------------------------------------------------------*</span><br>
<span class="L0S52">FORM&nbsp;</span>complete_file&nbsp;<span class="L0S55">.</span><br>
<br>
&nbsp;&nbsp;<span class="L0S52">DATA</span><span class="L0S55">:&nbsp;</span>ls_mtdkey&nbsp;&nbsp;<span class="L0S52">TYPE&nbsp;</span>seocpdkey<span class="L0S55">.</span><br>
<br>
&nbsp;&nbsp;<span class="L0S52">DATA</span><span class="L0S55">:&nbsp;</span>lv_filename&nbsp;<span class="L0S52">TYPE&nbsp;</span>string<span class="L0S55">,</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lv_tabix&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">TYPE&nbsp;</span>sy<span class="L0S70">-</span>tabix<span class="L0S55">,</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lv_incname&nbsp;&nbsp;<span class="L0S52">TYPE&nbsp;</span><span class="L0S52">program</span><span class="L0S55">,</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lv_funcname&nbsp;<span class="L0S52">TYPE&nbsp;</span>rs38l<span class="L0S70">-</span>name<span class="L0S55">,</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lv_group&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">TYPE&nbsp;</span>rs38l<span class="L0S70">-</span>area<span class="L0S55">,</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lv_include&nbsp;&nbsp;<span class="L0S52">TYPE&nbsp;</span>rs38l<span class="L0S70">-</span><span class="L0S52">include</span><span class="L0S55">.</span><br>
<br>
&nbsp;&nbsp;<span class="L0S52">LOOP&nbsp;</span><span class="L0S52">AT&nbsp;</span>gt_file&nbsp;<span class="L0S52">INTO&nbsp;</span>gs_file<span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;lv_tabix&nbsp;<span class="L0S55">=&nbsp;</span>sy<span class="L0S70">-</span>tabix<span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">CASE&nbsp;</span>gs_file<span class="L0S70">-</span>object_type<span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">WHEN&nbsp;</span>gc_prog<span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;gs_file<span class="L0S70">-</span>object_name&nbsp;<span class="L0S55">=&nbsp;</span>gs_file<span class="L0S70">-</span>object_name_3<span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">MODIFY&nbsp;</span>gt_file&nbsp;<span class="L0S52">FROM&nbsp;</span>gs_file&nbsp;<span class="L0S52">INDEX&nbsp;</span>lv_tabix<span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">WHEN&nbsp;</span>gc_clas<span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lv_incname&nbsp;<span class="L0S55">=&nbsp;</span>gs_file<span class="L0S70">-</span>object_name_3<span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">CLEAR</span><span class="L0S55">:&nbsp;</span>ls_mtdkey<span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">CALL&nbsp;</span><span class="L0S52">METHOD&nbsp;</span>cl_oo_classname_service<span class="L0S70">=&gt;</span>get_method_by_include<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">EXPORTING</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;incname&nbsp;<span class="L0S55">=&nbsp;</span>lv_incname<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;RECEIVING<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mtdkey&nbsp;&nbsp;<span class="L0S55">=&nbsp;</span>ls_mtdkey<span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">IF&nbsp;</span>sy<span class="L0S70">-</span>subrc&nbsp;<span class="L0S55">=&nbsp;</span><span class="L0S32">0</span><span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;gs_file<span class="L0S70">-</span>object_name&nbsp;<span class="L0S55">=&nbsp;</span>ls_mtdkey<span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;gs_file<span class="L0S70">-</span>super_object_name&nbsp;<span class="L0S55">=&nbsp;</span>ls_mtdkey<span class="L0S70">-</span>clsname<span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">MODIFY&nbsp;</span>gt_file&nbsp;<span class="L0S52">FROM&nbsp;</span>gs_file&nbsp;<span class="L0S52">INDEX&nbsp;</span>lv_tabix<span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">ENDIF</span><span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">WHEN&nbsp;</span>gc_fugr<span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lv_include&nbsp;<span class="L0S55">=&nbsp;</span>gs_file<span class="L0S70">-</span>object_name_3<span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">CLEAR</span><span class="L0S55">:&nbsp;</span>lv_funcname<span class="L0S55">,</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lv_group<span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">CALL&nbsp;</span><span class="L0S52">FUNCTION&nbsp;</span><span class="L0S33">'FUNCTION_INCLUDE_INFO'</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">CHANGING</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;funcname&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S55">=&nbsp;</span>lv_funcname<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">group&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="L0S55">=&nbsp;</span>lv_group<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">include&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="L0S55">=&nbsp;</span>lv_include<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">EXCEPTIONS</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;function_not_exists&nbsp;<span class="L0S55">=&nbsp;</span><span class="L0S32">1</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;include_not_exists&nbsp;&nbsp;<span class="L0S55">=&nbsp;</span><span class="L0S32">2</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;group_not_exists&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S55">=&nbsp;</span><span class="L0S32">3</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;no_selections&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S55">=&nbsp;</span><span class="L0S32">4</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;no_function_include&nbsp;<span class="L0S55">=&nbsp;</span><span class="L0S32">5</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">OTHERS&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="L0S55">=&nbsp;</span><span class="L0S32">6</span><span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">IF&nbsp;</span>sy<span class="L0S70">-</span>subrc&nbsp;<span class="L0S55">=&nbsp;</span><span class="L0S32">0</span><span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;gs_file<span class="L0S70">-</span>object_name&nbsp;<span class="L0S55">=&nbsp;</span>lv_funcname<span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;gs_file<span class="L0S70">-</span>super_object_name&nbsp;<span class="L0S55">=&nbsp;</span>lv_group<span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">MODIFY&nbsp;</span>gt_file&nbsp;<span class="L0S52">FROM&nbsp;</span>gs_file&nbsp;<span class="L0S52">INDEX&nbsp;</span>lv_tabix<span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">ELSE</span><span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">IF&nbsp;</span>gs_file<span class="L0S70">-</span>object_name_3<span class="L0S55">(</span><span class="L0S32">2</span><span class="L0S55">)&nbsp;</span><span class="L0S55">=&nbsp;</span><span class="L0S33">'LZ'</span><span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;gs_file<span class="L0S70">-</span>object_type&nbsp;<span class="L0S55">=&nbsp;</span>gc_prog<span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;gs_file<span class="L0S70">-</span>object_name&nbsp;<span class="L0S55">=&nbsp;</span>gs_file<span class="L0S70">-</span>object_name_3<span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">MODIFY&nbsp;</span>gt_file&nbsp;<span class="L0S52">FROM&nbsp;</span>gs_file&nbsp;<span class="L0S52">INDEX&nbsp;</span>lv_tabix<span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">ENDIF</span><span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">ENDIF</span><span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">WHEN&nbsp;</span><span class="L0S52">OTHERS</span><span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">ENDCASE</span><span class="L0S55">.</span><br>
&nbsp;&nbsp;<span class="L0S52">ENDLOOP</span><span class="L0S55">.</span><br>
<br>
<span class="L0S52">ENDFORM</span><span class="L0S55">.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="L0S31">&quot;&nbsp;COMPLETE_FILE</span><br>
<span class="L0S31">*&amp;---------------------------------------------------------------------*</span><br>
<span class="L0S31">*&amp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Form&nbsp;&nbsp;GET_OBJECTS</span><br>
<span class="L0S31">*&amp;---------------------------------------------------------------------*</span><br>
<span class="L0S52">FORM&nbsp;</span>get_objects&nbsp;<span class="L0S55">.</span><br>
<br>
&nbsp;&nbsp;<span class="L0S52">DATA</span><span class="L0S55">:&nbsp;</span>ls_obj&nbsp;<span class="L0S52">TYPE&nbsp;</span>trobj_name<span class="L0S55">.</span><br>
<br>
&nbsp;&nbsp;<span class="L0S52">IF&nbsp;</span><span class="L0S52">NOT&nbsp;</span>r_file&nbsp;<span class="L0S52">IS&nbsp;</span><span class="L0S52">INITIAL</span><span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">PERFORM&nbsp;</span>upload_file<span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">PERFORM&nbsp;</span>complete_file<span class="L0S55">.</span><br>
&nbsp;&nbsp;<span class="L0S52">ELSEIF&nbsp;</span><span class="L0S52">NOT&nbsp;</span>r_nofile&nbsp;<span class="L0S52">IS&nbsp;</span><span class="L0S52">INITIAL</span><span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">LOOP&nbsp;</span><span class="L0S52">AT&nbsp;</span>s_obj<span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;gs_file<span class="L0S70">-</span>object_name&nbsp;<span class="L0S55">=&nbsp;</span>s_obj<span class="L0S70">-</span>low<span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">APPEND&nbsp;</span>gs_file&nbsp;<span class="L0S52">TO&nbsp;</span>gt_file<span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">ENDLOOP</span><span class="L0S55">.</span><br>
<br>
&nbsp;&nbsp;<span class="L0S52">ENDIF</span><span class="L0S55">.</span><br>
<br>
<span class="L0S52">ENDFORM</span><span class="L0S55">.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="L0S31">&quot;&nbsp;GET_OBJECTS</span><br>
<span class="L0S31">*&amp;---------------------------------------------------------------------*</span><br>
<span class="L0S31">*&amp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Form&nbsp;&nbsp;SELECT_DATA</span><br>
<span class="L0S31">*&amp;---------------------------------------------------------------------*</span><br>
<span class="L0S52">FORM&nbsp;</span>select_data&nbsp;<span class="L0S55">.</span><br>
<br>
&nbsp;&nbsp;<span class="L0S52">DATA</span><span class="L0S55">:&nbsp;</span>ls_e071&nbsp;<span class="L0S52">TYPE&nbsp;</span>e071<span class="L0S55">.</span><br>
<br>
&nbsp;&nbsp;<span class="L0S52">CLEAR</span><span class="L0S55">:&nbsp;</span>gt_e071[]<span class="L0S55">,</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;gt_e070[]<span class="L0S55">,</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;gt_e070_2[]<span class="L0S55">,</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;gt_e07t[]<span class="L0S55">.</span><br>
<br>
&nbsp;&nbsp;<span class="L0S52">SELECT&nbsp;</span>*&nbsp;<span class="L0S52">FROM&nbsp;</span>e071&nbsp;<span class="L0S52">INTO&nbsp;</span><span class="L0S52">TABLE&nbsp;</span>gt_e071<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">FOR&nbsp;</span><span class="L0S52">ALL&nbsp;</span>ENTRIES&nbsp;<span class="L0S52">IN&nbsp;</span>gt_file<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">WHERE&nbsp;</span>trkorr&nbsp;<span class="L0S52">LIKE&nbsp;</span><span class="L0S33">'DE1K%'&nbsp;</span><span class="L0S52">AND</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S55">(&nbsp;</span>obj_name&nbsp;<span class="L0S55">=&nbsp;</span>gt_file<span class="L0S70">-</span>object_name&nbsp;<span class="L0S52">OR</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;obj_name&nbsp;<span class="L0S55">=&nbsp;</span>gt_file<span class="L0S70">-</span>super_object_name&nbsp;<span class="L0S55">)</span><span class="L0S55">.</span><br>
<br>
&nbsp;&nbsp;<span class="L0S52">IF&nbsp;</span><span class="L0S52">NOT&nbsp;</span>gt_e071[]&nbsp;<span class="L0S52">IS&nbsp;</span><span class="L0S52">INITIAL</span><span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">SELECT&nbsp;</span>*&nbsp;<span class="L0S52">FROM&nbsp;</span>e070&nbsp;<span class="L0S52">INTO&nbsp;</span><span class="L0S52">TABLE&nbsp;</span>gt_e070<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">FOR&nbsp;</span><span class="L0S52">ALL&nbsp;</span>ENTRIES&nbsp;<span class="L0S52">IN&nbsp;</span>gt_e071<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">WHERE&nbsp;</span>trkorr&nbsp;<span class="L0S52">LIKE&nbsp;</span><span class="L0S33">'DE1K%'&nbsp;</span><span class="L0S52">AND</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;trkorr&nbsp;<span class="L0S55">=&nbsp;</span>gt_e071<span class="L0S70">-</span>trkorr<span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">IF&nbsp;</span><span class="L0S52">NOT&nbsp;</span>gt_e070[]&nbsp;<span class="L0S52">IS&nbsp;</span><span class="L0S52">INITIAL</span><span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">SELECT&nbsp;</span>*&nbsp;<span class="L0S52">FROM&nbsp;</span>e070&nbsp;<span class="L0S52">INTO&nbsp;</span><span class="L0S52">TABLE&nbsp;</span>gt_e070_2<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">FOR&nbsp;</span><span class="L0S52">ALL&nbsp;</span>ENTRIES&nbsp;<span class="L0S52">IN&nbsp;</span>gt_e070<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">WHERE&nbsp;</span>trkorr&nbsp;<span class="L0S52">LIKE&nbsp;</span><span class="L0S33">'DE1K%'&nbsp;</span><span class="L0S52">AND</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;trkorr&nbsp;<span class="L0S55">=&nbsp;</span>gt_e070<span class="L0S70">-</span>strkorr<span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">IF&nbsp;</span><span class="L0S52">NOT&nbsp;</span>gt_e070_2[]&nbsp;<span class="L0S52">IS&nbsp;</span><span class="L0S52">INITIAL</span><span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">SELECT&nbsp;</span>*&nbsp;<span class="L0S52">FROM&nbsp;</span>e07t&nbsp;<span class="L0S52">INTO&nbsp;</span><span class="L0S52">TABLE&nbsp;</span>gt_e07t<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">FOR&nbsp;</span><span class="L0S52">ALL&nbsp;</span>ENTRIES&nbsp;<span class="L0S52">IN&nbsp;</span>gt_e070_2<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">WHERE&nbsp;</span>trkorr&nbsp;<span class="L0S55">=&nbsp;</span>gt_e070_2<span class="L0S70">-</span>trkorr&nbsp;<span class="L0S52">AND</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;langu&nbsp;<span class="L0S55">=&nbsp;</span>gc_langu<span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">ENDIF</span><span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">ENDIF</span><span class="L0S55">.</span><br>
&nbsp;&nbsp;<span class="L0S52">ENDIF</span><span class="L0S55">.</span><br>
<br>
<span class="L0S52">ENDFORM</span><span class="L0S55">.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="L0S31">&quot;&nbsp;SELECT_DATA</span><br>
<span class="L0S31">*&amp;---------------------------------------------------------------------*</span><br>
<span class="L0S31">*&amp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Form&nbsp;&nbsp;ADD_MESSAGE</span><br>
<span class="L0S31">*&amp;---------------------------------------------------------------------*</span><br>
<span class="L0S52">FORM&nbsp;</span>add_message&nbsp;<span class="L0S52">USING&nbsp;</span>i_icon&nbsp;<span class="L0S52">TYPE&nbsp;</span>icon_d<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;i_objname&nbsp;<span class="L0S52">TYPE&nbsp;</span>trobj_name<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;i_transport_key&nbsp;<span class="L0S52">TYPE&nbsp;</span>trkorr<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;i_reason&nbsp;<span class="L0S52">TYPE&nbsp;</span>bapi_msg<span class="L0S55">.</span><br>
<br>
&nbsp;&nbsp;<span class="L0S52">DATA</span><span class="L0S55">:&nbsp;</span>ls_alv&nbsp;<span class="L0S52">TYPE&nbsp;</span>ty_alv<span class="L0S55">.</span><br>
<br>
&nbsp;&nbsp;ls_alv<span class="L0S70">-</span><span class="L0S52">icon&nbsp;</span><span class="L0S55">=&nbsp;</span>i_icon<span class="L0S55">.</span><br>
&nbsp;&nbsp;ls_alv<span class="L0S70">-</span>object_type&nbsp;<span class="L0S55">=&nbsp;</span>gs_file<span class="L0S70">-</span>object_type<span class="L0S55">.</span><br>
&nbsp;&nbsp;ls_alv<span class="L0S70">-</span>object_name_3&nbsp;<span class="L0S55">=&nbsp;</span>gs_file<span class="L0S70">-</span>object_name_3<span class="L0S55">.</span><br>
&nbsp;&nbsp;<span class="L0S52">IF&nbsp;</span>ls_alv<span class="L0S70">-</span>object_name_3&nbsp;<span class="L0S52">IS&nbsp;</span><span class="L0S52">INITIAL</span><span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;ls_alv<span class="L0S70">-</span>object_name_3&nbsp;<span class="L0S55">=&nbsp;</span>gs_file<span class="L0S70">-</span>object_name<span class="L0S55">.</span><br>
&nbsp;&nbsp;<span class="L0S52">ENDIF</span><span class="L0S55">.</span><br>
&nbsp;&nbsp;ls_alv<span class="L0S70">-</span>transport_key&nbsp;<span class="L0S55">=&nbsp;</span>i_transport_key<span class="L0S55">.</span><br>
&nbsp;&nbsp;ls_alv<span class="L0S70">-</span>reason&nbsp;<span class="L0S55">=&nbsp;</span>i_reason<span class="L0S55">.</span><br>
&nbsp;&nbsp;<span class="L0S52">APPEND&nbsp;</span>ls_alv&nbsp;<span class="L0S52">TO&nbsp;</span>gt_alv<span class="L0S55">.</span><br>
<br>
<span class="L0S52">ENDFORM</span><span class="L0S55">.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="L0S31">&quot;&nbsp;ADD_MESSAGE</span><br>
<span class="L0S31">*&amp;---------------------------------------------------------------------*</span><br>
<span class="L0S31">*&amp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Form&nbsp;&nbsp;GET_LAST_REQUEST</span><br>
<span class="L0S31">*&amp;---------------------------------------------------------------------*</span><br>
<span class="L0S52">FORM&nbsp;</span>get_last_request<span class="L0S55">.</span><br>
<br>
&nbsp;&nbsp;<span class="L0S52">DATA</span><span class="L0S55">:&nbsp;</span>lt_e071&nbsp;<span class="L0S52">TYPE&nbsp;</span><span class="L0S52">TABLE&nbsp;</span><span class="L0S52">OF&nbsp;</span>e071<span class="L0S55">.</span><br>
<br>
&nbsp;&nbsp;<span class="L0S52">DATA</span><span class="L0S55">:&nbsp;</span>ls_e071&nbsp;&nbsp;&nbsp;<span class="L0S52">TYPE&nbsp;</span>e071<span class="L0S55">,</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ls_e070&nbsp;&nbsp;&nbsp;<span class="L0S52">TYPE&nbsp;</span>e070<span class="L0S55">,</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ls_e070_2&nbsp;<span class="L0S52">TYPE&nbsp;</span>e070<span class="L0S55">.</span><br>
<br>
&nbsp;&nbsp;<span class="L0S52">CLEAR</span><span class="L0S55">:&nbsp;</span>gs_e071<span class="L0S55">,</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;gv_trkorr<span class="L0S55">.</span><br>
<br>
&nbsp;&nbsp;<span class="L0S52">READ&nbsp;</span><span class="L0S52">TABLE&nbsp;</span>gt_e071&nbsp;<span class="L0S52">INTO&nbsp;</span>gs_e071&nbsp;<span class="L0S52">WITH&nbsp;</span><span class="L0S52">KEY&nbsp;</span>obj_name&nbsp;<span class="L0S55">=&nbsp;</span>gs_file<span class="L0S70">-</span>object_name<span class="L0S55">.</span><br>
&nbsp;&nbsp;<span class="L0S52">IF&nbsp;</span><span class="L0S52">NOT&nbsp;</span>sy<span class="L0S70">-</span>subrc&nbsp;<span class="L0S55">=&nbsp;</span><span class="L0S32">0</span><span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">READ&nbsp;</span><span class="L0S52">TABLE&nbsp;</span>gt_e071&nbsp;<span class="L0S52">INTO&nbsp;</span>gs_e071&nbsp;<span class="L0S52">WITH&nbsp;</span><span class="L0S52">KEY&nbsp;</span>obj_name&nbsp;<span class="L0S55">=&nbsp;</span>gs_file<span class="L0S70">-</span>super_object_name<span class="L0S55">.</span><br>
&nbsp;&nbsp;<span class="L0S52">ENDIF</span><span class="L0S55">.</span><br>
&nbsp;&nbsp;<span class="L0S52">IF&nbsp;</span>gs_e071&nbsp;<span class="L0S52">IS&nbsp;</span><span class="L0S52">NOT&nbsp;</span><span class="L0S52">INITIAL&nbsp;</span><span class="L0S52">AND</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S55">(&nbsp;</span>gs_e071<span class="L0S70">-</span>object&nbsp;<span class="L0S52">EQ&nbsp;</span>gc_prog&nbsp;<span class="L0S52">OR</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;gs_e071<span class="L0S70">-</span>object&nbsp;<span class="L0S52">EQ&nbsp;</span>gc_reps&nbsp;<span class="L0S52">OR</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;gs_e071<span class="L0S70">-</span>object&nbsp;<span class="L0S52">EQ&nbsp;</span>gc_clas&nbsp;<span class="L0S52">OR</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;gs_e071<span class="L0S70">-</span>object&nbsp;<span class="L0S52">EQ&nbsp;</span>gc_meth&nbsp;<span class="L0S52">OR</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;gs_e071<span class="L0S70">-</span>object&nbsp;<span class="L0S52">EQ&nbsp;</span>gc_fugr&nbsp;<span class="L0S52">OR</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;gs_e071<span class="L0S70">-</span>object&nbsp;<span class="L0S52">EQ&nbsp;</span>gc_func&nbsp;<span class="L0S55">)</span><span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">LOOP&nbsp;</span><span class="L0S52">AT&nbsp;</span>gt_e071&nbsp;<span class="L0S52">INTO&nbsp;</span>ls_e071&nbsp;<span class="L0S52">WHERE&nbsp;</span>obj_name&nbsp;<span class="L0S55">=&nbsp;</span>gs_e071<span class="L0S70">-</span>obj_name<span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">APPEND&nbsp;</span>ls_e071&nbsp;<span class="L0S52">TO&nbsp;</span>lt_e071<span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">ENDLOOP</span><span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">IF&nbsp;</span><span class="L0S52">NOT&nbsp;</span>lt_e071[]&nbsp;<span class="L0S52">IS&nbsp;</span><span class="L0S52">INITIAL</span><span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">SORT&nbsp;</span>lt_e071&nbsp;<span class="L0S52">BY&nbsp;</span>trkorr&nbsp;<span class="L0S52">DESCENDING</span><span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">READ&nbsp;</span><span class="L0S52">TABLE&nbsp;</span>lt_e071&nbsp;<span class="L0S52">INTO&nbsp;</span>ls_e071&nbsp;<span class="L0S52">INDEX&nbsp;</span><span class="L0S32">1</span><span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">IF&nbsp;</span>sy<span class="L0S70">-</span>subrc&nbsp;<span class="L0S55">=&nbsp;</span><span class="L0S32">0</span><span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">READ&nbsp;</span><span class="L0S52">TABLE&nbsp;</span>gt_e070&nbsp;<span class="L0S52">INTO&nbsp;</span>ls_e070&nbsp;<span class="L0S52">WITH&nbsp;</span><span class="L0S52">KEY&nbsp;</span>trkorr&nbsp;<span class="L0S55">=&nbsp;</span>ls_e071<span class="L0S70">-</span>trkorr<span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">IF&nbsp;</span>sy<span class="L0S70">-</span>subrc&nbsp;<span class="L0S55">=&nbsp;</span><span class="L0S32">0</span><span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">READ&nbsp;</span><span class="L0S52">TABLE&nbsp;</span>gt_e070_2&nbsp;<span class="L0S52">INTO&nbsp;</span>ls_e070_2&nbsp;<span class="L0S52">WITH&nbsp;</span><span class="L0S52">KEY&nbsp;</span>trkorr&nbsp;<span class="L0S55">=&nbsp;</span>ls_e070<span class="L0S70">-</span>strkorr<span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">IF&nbsp;</span>sy<span class="L0S70">-</span>subrc&nbsp;<span class="L0S55">=&nbsp;</span><span class="L0S32">0</span><span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">IF&nbsp;</span>ls_e070_2<span class="L0S70">-</span>strkorr&nbsp;<span class="L0S52">IS&nbsp;</span><span class="L0S52">INITIAL</span><span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;gv_trkorr&nbsp;<span class="L0S55">=&nbsp;</span>ls_e070_2<span class="L0S70">-</span>trkorr<span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">ENDIF</span><span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">ELSE</span><span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;gv_trkorr&nbsp;<span class="L0S55">=&nbsp;</span>ls_e070<span class="L0S70">-</span>trkorr<span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">ENDIF</span><span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">ENDIF</span><span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">ENDIF</span><span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">ENDIF</span><span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">IF&nbsp;</span>gv_trkorr&nbsp;<span class="L0S52">IS&nbsp;</span><span class="L0S52">INITIAL</span><span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">PERFORM&nbsp;</span>add_message&nbsp;<span class="L0S52">USING&nbsp;</span>icon_led_red<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;gs_e071<span class="L0S70">-</span>obj_name<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S33">''</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">TEXT</span><span class="L0S70">-</span>e02<span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">ENDIF</span><span class="L0S55">.</span><br>
&nbsp;&nbsp;<span class="L0S52">ELSE</span><span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;gs_e071<span class="L0S70">-</span>pgmid&nbsp;&nbsp;<span class="L0S55">=&nbsp;</span>gc_limu<span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;gs_e071<span class="L0S70">-</span>object&nbsp;<span class="L0S55">=&nbsp;</span>gc_reps<span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;gs_e071<span class="L0S70">-</span>obj_name&nbsp;<span class="L0S55">=&nbsp;</span>gs_file<span class="L0S70">-</span>object_name<span class="L0S55">.</span><br>
<span class="L0S31">*&nbsp;&nbsp;&nbsp;&nbsp;PERFORM&nbsp;add_message&nbsp;USING&nbsp;icon_led_red</span><br>
<span class="L0S31">*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;gs_file-object_name</span><br>
<span class="L0S31">*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;''</span><br>
<span class="L0S31">*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;text-e01.</span><br>
&nbsp;&nbsp;<span class="L0S52">ENDIF</span><span class="L0S55">.</span><br>
<br>
<span class="L0S52">ENDFORM</span><span class="L0S55">.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="L0S31">&quot;&nbsp;GET_LAST_REQUEST</span><br>
<span class="L0S31">*&amp;---------------------------------------------------------------------*</span><br>
<span class="L0S31">*&amp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Form&nbsp;&nbsp;CHECK_LAST_REQUEST_IN_PROGRESS</span><br>
<span class="L0S31">*&amp;---------------------------------------------------------------------*</span><br>
<span class="L0S52">FORM&nbsp;</span>check_last_request_in_progress<span class="L0S55">.</span><br>
<br>
&nbsp;&nbsp;<span class="L0S52">DATA</span><span class="L0S55">:&nbsp;</span>ls_cofile&nbsp;&nbsp;<span class="L0S52">TYPE&nbsp;</span>ctslg_cofile<span class="L0S55">,</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ls_systems&nbsp;<span class="L0S52">TYPE&nbsp;</span>ctslg_system<span class="L0S55">,</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ls_steps&nbsp;&nbsp;&nbsp;<span class="L0S52">TYPE&nbsp;</span>ctslg_step<span class="L0S55">,</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ls_action&nbsp;&nbsp;<span class="L0S52">TYPE&nbsp;</span>ctslg_action<span class="L0S55">,</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ls_e07t&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">TYPE&nbsp;</span>e07t<span class="L0S55">.</span><br>
<br>
&nbsp;&nbsp;<span class="L0S52">DATA</span><span class="L0S55">:&nbsp;</span>lv_text&nbsp;<span class="L0S52">TYPE&nbsp;</span>bapi_msg<span class="L0S55">.</span><br>
<br>
&nbsp;&nbsp;<span class="L0S52">CLEAR</span><span class="L0S55">:&nbsp;</span>gv_last_request_transported<span class="L0S55">.</span><br>
<br>
&nbsp;&nbsp;<span class="L0S52">IF&nbsp;</span><span class="L0S52">NOT&nbsp;</span>gv_trkorr&nbsp;<span class="L0S55">=&nbsp;</span>p_trkor<span class="L0S55">.</span><br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">CALL&nbsp;</span><span class="L0S52">FUNCTION&nbsp;</span><span class="L0S33">'TR_READ_GLOBAL_INFO_OF_REQUEST'</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">EXPORTING</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;iv_trkorr&nbsp;<span class="L0S55">=&nbsp;</span>gv_trkorr<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">IMPORTING</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;es_cofile&nbsp;<span class="L0S55">=&nbsp;</span>ls_cofile<span class="L0S55">.</span><br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">READ&nbsp;</span><span class="L0S52">TABLE&nbsp;</span>ls_cofile<span class="L0S70">-</span>systems&nbsp;<span class="L0S52">INTO&nbsp;</span>ls_systems&nbsp;<span class="L0S52">WITH&nbsp;</span><span class="L0S52">KEY&nbsp;</span>systemid&nbsp;<span class="L0S55">=&nbsp;</span>gc_pe1<span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">IF&nbsp;</span>sy<span class="L0S70">-</span>subrc&nbsp;<span class="L0S52">IS&nbsp;</span><span class="L0S52">INITIAL</span><span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">LOOP&nbsp;</span><span class="L0S52">AT&nbsp;</span>ls_systems<span class="L0S70">-</span>steps&nbsp;<span class="L0S52">INTO&nbsp;</span>ls_steps&nbsp;<span class="L0S52">WHERE&nbsp;</span>stepid&nbsp;<span class="L0S52">EQ&nbsp;</span>gc_stepid_g&nbsp;<span class="L0S52">OR</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;stepid&nbsp;<span class="L0S52">EQ&nbsp;</span>gc_stepid_r<span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">LOOP&nbsp;</span><span class="L0S52">AT&nbsp;</span>ls_steps<span class="L0S70">-</span>actions&nbsp;<span class="L0S52">INTO&nbsp;</span>ls_action&nbsp;<span class="L0S52">WHERE&nbsp;</span>rc&nbsp;<span class="L0S52">LT&nbsp;</span>gc_rc<span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;gv_last_request_transported&nbsp;<span class="L0S55">=&nbsp;</span><span class="L0S33">'X'</span><span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">EXIT</span><span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">ENDLOOP</span><span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">IF&nbsp;</span>gv_last_request_transported&nbsp;<span class="L0S52">IS&nbsp;</span><span class="L0S52">NOT&nbsp;</span><span class="L0S52">INITIAL</span><span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">EXIT</span><span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">ENDIF</span><span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">ENDLOOP</span><span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">ENDIF</span><span class="L0S55">.</span><br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">IF&nbsp;</span>gv_last_request_transported&nbsp;<span class="L0S55">=&nbsp;</span><span class="L0S33">''</span><span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">READ&nbsp;</span><span class="L0S52">TABLE&nbsp;</span>gt_e07t&nbsp;<span class="L0S52">INTO&nbsp;</span>ls_e07t&nbsp;<span class="L0S52">WITH&nbsp;</span><span class="L0S52">KEY&nbsp;</span>trkorr&nbsp;<span class="L0S55">=&nbsp;</span>gv_trkorr<span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">IF&nbsp;</span>sy<span class="L0S70">-</span>subrc&nbsp;<span class="L0S55">=&nbsp;</span><span class="L0S32">0</span><span class="L0S55">.</span><br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lv_text&nbsp;<span class="L0S55">=&nbsp;</span><span class="L0S52">TEXT</span><span class="L0S70">-</span>e03<span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">REPLACE&nbsp;</span><span class="L0S33">'&amp;1'&nbsp;</span><span class="L0S52">WITH&nbsp;</span>gv_trkorr<span class="L0S55">(</span><span class="L0S32">10</span><span class="L0S55">)&nbsp;</span><span class="L0S52">INTO&nbsp;</span>lv_text<span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">REPLACE&nbsp;</span><span class="L0S33">'&amp;2'&nbsp;</span><span class="L0S52">WITH&nbsp;</span>ls_e07t<span class="L0S70">-</span>as4text<span class="L0S55">(</span><span class="L0S32">4</span><span class="L0S55">)&nbsp;</span><span class="L0S52">INTO&nbsp;</span>lv_text<span class="L0S55">.</span><br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">PERFORM&nbsp;</span>add_message&nbsp;<span class="L0S52">USING&nbsp;</span>icon_led_red<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;gs_e071<span class="L0S70">-</span>obj_name<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S33">''</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lv_text<span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">ENDIF</span><span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">ENDIF</span><span class="L0S55">.</span><br>
<br>
&nbsp;&nbsp;<span class="L0S52">ELSE</span><span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;gv_last_request_transported&nbsp;<span class="L0S55">=&nbsp;</span><span class="L0S33">'X'</span><span class="L0S55">.</span><br>
&nbsp;&nbsp;<span class="L0S52">ENDIF</span><span class="L0S55">.</span><br>
<br>
<span class="L0S52">ENDFORM</span><span class="L0S55">.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="L0S31">&quot;&nbsp;CHECK_TRANSPORT</span><br>
<span class="L0S31">*&amp;---------------------------------------------------------------------*</span><br>
<span class="L0S31">*&amp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Form&nbsp;&nbsp;GET_SOURCE_CODE</span><br>
<span class="L0S31">*&amp;---------------------------------------------------------------------*</span><br>
<span class="L0S52">FORM&nbsp;</span>get_source_code<span class="L0S55">.</span><br>
<br>
&nbsp;&nbsp;<span class="L0S52">DATA</span><span class="L0S55">:&nbsp;</span>ls_enhincinx&nbsp;<span class="L0S52">TYPE&nbsp;</span>enhincinx<span class="L0S55">.</span><br>
<br>
&nbsp;&nbsp;<span class="L0S52">DATA</span><span class="L0S55">:&nbsp;</span>lv_objname&nbsp;<span class="L0S52">TYPE&nbsp;</span>versobjnam<span class="L0S55">,</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lv_objtype&nbsp;<span class="L0S52">TYPE&nbsp;</span>versobjtyp<span class="L0S55">,</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lv_versno&nbsp;&nbsp;<span class="L0S52">TYPE&nbsp;</span>versno<span class="L0S55">.</span><br>
<br>
&nbsp;&nbsp;<span class="L0S52">CLEAR</span><span class="L0S55">:&nbsp;</span>gt_repos[]<span class="L0S55">,</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;gt_trdir[]<span class="L0S55">.</span><br>
<br>
&nbsp;&nbsp;<span class="L0S52">CASE&nbsp;</span>gs_e071<span class="L0S70">-</span>object<span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">WHEN&nbsp;</span>gc_prog<span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lv_objname&nbsp;<span class="L0S55">=&nbsp;</span>gs_e071<span class="L0S70">-</span>obj_name<span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lv_objtype&nbsp;<span class="L0S55">=&nbsp;</span>gc_reps<span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">WHEN&nbsp;</span>gc_clas<span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lv_objname&nbsp;<span class="L0S55">=&nbsp;</span>gs_file<span class="L0S70">-</span>object_name<span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lv_objtype&nbsp;<span class="L0S55">=&nbsp;</span>gc_meth<span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">WHEN&nbsp;</span>gc_fugr<span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lv_objname&nbsp;<span class="L0S55">=&nbsp;</span>gs_file<span class="L0S70">-</span>object_name<span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lv_objtype&nbsp;<span class="L0S55">=&nbsp;</span>gc_func<span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">WHEN&nbsp;</span><span class="L0S52">OTHERS</span><span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lv_objname&nbsp;<span class="L0S55">=&nbsp;</span>gs_e071<span class="L0S70">-</span>obj_name<span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lv_objtype&nbsp;<span class="L0S55">=&nbsp;</span>gs_e071<span class="L0S70">-</span>object<span class="L0S55">.</span><br>
&nbsp;&nbsp;<span class="L0S52">ENDCASE</span><span class="L0S55">.</span><br>
<br>
&nbsp;&nbsp;<span class="L0S52">CALL&nbsp;</span><span class="L0S52">FUNCTION&nbsp;</span><span class="L0S33">'SVRS_GET_REPS_FROM_OBJECT'</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">EXPORTING</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;object_name&nbsp;<span class="L0S55">=&nbsp;</span>lv_objname<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;object_type&nbsp;<span class="L0S55">=&nbsp;</span>lv_objtype<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;versno&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S55">=&nbsp;</span>lv_versno<br>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">TABLES</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;repos_tab&nbsp;&nbsp;&nbsp;<span class="L0S55">=&nbsp;</span>gt_repos<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;trdir_tab&nbsp;&nbsp;&nbsp;<span class="L0S55">=&nbsp;</span>gt_trdir<br>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">EXCEPTIONS</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;no_version&nbsp;&nbsp;<span class="L0S55">=&nbsp;</span><span class="L0S32">1</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">OTHERS&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="L0S55">=&nbsp;</span><span class="L0S32">2</span><span class="L0S55">.</span><br>
<br>
&nbsp;&nbsp;<span class="L0S52">IF&nbsp;</span>gt_repos[]&nbsp;<span class="L0S52">IS&nbsp;</span><span class="L0S52">INITIAL</span><span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">PERFORM&nbsp;</span>add_message&nbsp;<span class="L0S52">USING&nbsp;</span>icon_led_red<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;gs_e071<span class="L0S70">-</span>obj_name<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S33">''</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">TEXT</span><span class="L0S70">-</span>e04<span class="L0S55">.</span><br>
&nbsp;&nbsp;<span class="L0S52">ENDIF</span><span class="L0S55">.</span><br>
<br>
<span class="L0S52">ENDFORM</span><span class="L0S55">.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="L0S31">&quot;&nbsp;GET_SOURCE_CODE</span><br>
<span class="L0S31">*&amp;---------------------------------------------------------------------*</span><br>
<span class="L0S31">*&amp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Form&nbsp;&nbsp;ADD_SOURCE_CODE</span><br>
<span class="L0S31">*&amp;---------------------------------------------------------------------*</span><br>
<span class="L0S52">FORM&nbsp;</span>add_source_code&nbsp;&nbsp;<span class="L0S52">USING&nbsp;</span>is_repos&nbsp;<span class="L0S52">LIKE&nbsp;</span><span class="L0S52">LINE&nbsp;</span><span class="L0S52">OF&nbsp;</span>gt_repos<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">CHANGING&nbsp;</span>ct_repos&nbsp;<span class="L0S52">LIKE&nbsp;</span>gt_repos<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c_i&nbsp;<span class="L0S52">LIKE&nbsp;</span>sy<span class="L0S70">-</span>tabix<span class="L0S55">.</span><br>
<br>
&nbsp;&nbsp;<span class="L0S52">INSERT&nbsp;</span>is_repos<span class="L0S70">-</span><span class="L0S52">line&nbsp;</span><span class="L0S52">INTO&nbsp;</span>ct_repos&nbsp;<span class="L0S52">INDEX&nbsp;</span>c_i<span class="L0S55">.</span><br>
&nbsp;&nbsp;c_i&nbsp;<span class="L0S55">=&nbsp;</span>c_i&nbsp;+&nbsp;<span class="L0S32">1</span><span class="L0S55">.</span><br>
<br>
<span class="L0S52">ENDFORM</span><span class="L0S55">.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="L0S31">&quot;&nbsp;ADD_SOURCE_CODE</span><br>
<span class="L0S31">*&amp;---------------------------------------------------------------------*</span><br>
<span class="L0S31">*&amp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Form&nbsp;&nbsp;UPDATE_SOURCE_CODE</span><br>
<span class="L0S31">*&amp;---------------------------------------------------------------------*</span><br>
<span class="L0S52">FORM&nbsp;</span>update_source_code<span class="L0S55">.</span><br>
<br>
&nbsp;&nbsp;<span class="L0S52">DATA</span><span class="L0S55">:&nbsp;</span>ls_repos&nbsp;&nbsp;&nbsp;<span class="L0S52">TYPE&nbsp;</span>abaptxt255<span class="L0S55">,</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ls_repos_2&nbsp;<span class="L0S52">TYPE&nbsp;</span>abaptxt255<span class="L0S55">,</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ls_repos_3&nbsp;<span class="L0S52">TYPE&nbsp;</span>abaptxt255<span class="L0S55">,</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lv_leave&nbsp;&nbsp;&nbsp;<span class="L0S52">TYPE&nbsp;</span>flag<span class="L0S55">,</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lv_out&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">TYPE&nbsp;</span>flag<span class="L0S55">,</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lv_per&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">TYPE&nbsp;</span><span class="L0S52">i</span><span class="L0S55">.</span><br>
<br>
&nbsp;&nbsp;<span class="L0S52">DATA</span><span class="L0S55">:&nbsp;</span>lv_i&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">LIKE&nbsp;</span>sy<span class="L0S70">-</span>tabix<span class="L0S55">,</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lv_i_2&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">LIKE&nbsp;</span>sy<span class="L0S70">-</span>tabix<span class="L0S55">,</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lv_i_3&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">LIKE&nbsp;</span>sy<span class="L0S70">-</span>tabix<span class="L0S55">,</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lv_i_4&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">LIKE&nbsp;</span>sy<span class="L0S70">-</span>tabix<span class="L0S55">,</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lv_lines&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">TYPE&nbsp;</span><span class="L0S52">i</span><span class="L0S55">,</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lv_num&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">TYPE&nbsp;</span><span class="L0S52">i</span><span class="L0S55">,</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lv_line<span class="L0S55">(</span><span class="L0S32">65535</span><span class="L0S55">)&nbsp;&nbsp;</span><span class="L0S52">TYPE&nbsp;</span><span class="L0S52">c</span><span class="L0S55">,</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lv_add_sort&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">TYPE&nbsp;</span>bool<span class="L0S55">,</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lv_table<span class="L0S55">(</span><span class="L0S32">65535</span><span class="L0S55">)&nbsp;</span><span class="L0S52">TYPE&nbsp;</span><span class="L0S52">c</span><span class="L0S55">,</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lv_date<span class="L0S55">(</span><span class="L0S32">10</span><span class="L0S55">)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="L0S52">TYPE&nbsp;</span><span class="L0S52">c</span><span class="L0S55">.</span><br>
<br>
&nbsp;&nbsp;<span class="L0S52">CLEAR</span><span class="L0S55">:&nbsp;</span>gv_source_updated<span class="L0S55">.</span><br>
<br>
&nbsp;&nbsp;lv_per&nbsp;<span class="L0S55">=&nbsp;</span>gv_cur&nbsp;*&nbsp;<span class="L0S32">100&nbsp;</span>/&nbsp;gv_tot<span class="L0S55">.</span><br>
<br>
&nbsp;&nbsp;<span class="L0S52">CALL&nbsp;</span><span class="L0S52">FUNCTION&nbsp;</span><span class="L0S33">'SAPGUI_PROGRESS_INDICATOR'</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">EXPORTING</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;percentage&nbsp;<span class="L0S55">=&nbsp;</span><span class="L0S32">0</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">text&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="L0S55">=&nbsp;</span>gs_file<span class="L0S70">-</span>object_name<span class="L0S55">.</span><br>
<br>
<br>
&nbsp;&nbsp;<span class="L0S52">CLEAR&nbsp;</span>lv_leave<span class="L0S55">.</span><br>
&nbsp;&nbsp;<span class="L0S52">MOVE&nbsp;</span><span class="L0S32">1&nbsp;</span><span class="L0S52">TO&nbsp;</span>lv_num<span class="L0S55">.</span><br>
&nbsp;&nbsp;<span class="L0S52">DO</span><span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">CLEAR&nbsp;</span>lv_out<span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">LOOP&nbsp;</span><span class="L0S52">AT&nbsp;</span>gt_repos&nbsp;<span class="L0S52">INTO&nbsp;</span>ls_repos&nbsp;<span class="L0S52">FROM&nbsp;</span>lv_num<span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lv_i&nbsp;<span class="L0S55">=&nbsp;</span>sy<span class="L0S70">-</span>tabix<span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">SHIFT&nbsp;</span>ls_repos<span class="L0S70">-</span><span class="L0S52">line&nbsp;</span><span class="L0S52">LEFT&nbsp;</span>DELETING&nbsp;<span class="L0S52">LEADING&nbsp;</span>space<span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">TRANSLATE&nbsp;</span>ls_repos<span class="L0S70">-</span><span class="L0S52">line&nbsp;</span><span class="L0S52">TO&nbsp;</span><span class="L0S52">UPPER&nbsp;</span><span class="L0S52">CASE</span><span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">IF&nbsp;</span><span class="L0S52">NOT&nbsp;</span>ls_repos<span class="L0S70">-</span><span class="L0S52">line</span><span class="L0S55">(</span><span class="L0S32">1</span><span class="L0S55">)&nbsp;</span><span class="L0S55">=&nbsp;</span><span class="L0S33">'*'&nbsp;</span><span class="L0S52">AND</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">NOT&nbsp;</span>ls_repos<span class="L0S70">-</span><span class="L0S52">line</span><span class="L0S55">(</span><span class="L0S32">1</span><span class="L0S55">)&nbsp;</span><span class="L0S55">=&nbsp;</span><span class="L0S33">'&quot;'&nbsp;</span><span class="L0S52">AND</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">NOT&nbsp;</span>ls_repos<span class="L0S70">-</span><span class="L0S52">line</span><span class="L0S55">(</span><span class="L0S32">13</span><span class="L0S55">)&nbsp;</span><span class="L0S55">=&nbsp;</span><span class="L0S33">'SELECT&nbsp;SINGLE'&nbsp;</span><span class="L0S52">AND</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ls_repos<span class="L0S70">-</span><span class="L0S52">line</span><span class="L0S55">(</span><span class="L0S32">6</span><span class="L0S55">)&nbsp;</span><span class="L0S55">=&nbsp;</span><span class="L0S33">'SELECT'&nbsp;</span><span class="L0S52">AND</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">NOT&nbsp;</span>ls_repos<span class="L0S70">-</span><span class="L0S52">line&nbsp;</span><span class="L0S52">CS&nbsp;</span><span class="L0S33">'SELECT-'&nbsp;</span><span class="L0S52">AND</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">NOT&nbsp;</span>ls_repos<span class="L0S70">-</span><span class="L0S52">line&nbsp;</span><span class="L0S52">CS&nbsp;</span><span class="L0S33">'SELECTION'&nbsp;</span><span class="L0S52">AND</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">NOT&nbsp;</span>ls_repos<span class="L0S70">-</span><span class="L0S52">line&nbsp;</span><span class="L0S52">CS&nbsp;</span><span class="L0S33">'ENDSELECT'</span><span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lv_i_2&nbsp;<span class="L0S55">=&nbsp;</span>lv_i<span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">DESCRIBE&nbsp;</span><span class="L0S52">TABLE&nbsp;</span>gt_repos&nbsp;<span class="L0S52">LINES&nbsp;</span>lv_lines<span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">DO</span><span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">IF&nbsp;</span>lv_i_2&nbsp;&lt;=&nbsp;lv_lines<span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">READ&nbsp;</span><span class="L0S52">TABLE&nbsp;</span>gt_repos&nbsp;<span class="L0S52">INTO&nbsp;</span>ls_repos_2&nbsp;<span class="L0S52">INDEX&nbsp;</span>lv_i_2<span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">IF&nbsp;</span>sy<span class="L0S70">-</span>subrc&nbsp;<span class="L0S55">=&nbsp;</span><span class="L0S32">0&nbsp;</span><span class="L0S52">OR</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lv_add_sort&nbsp;<span class="L0S55">=&nbsp;</span><span class="L0S33">'X'</span><span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">SHIFT&nbsp;</span>ls_repos_2&nbsp;<span class="L0S52">LEFT&nbsp;</span>DELETING&nbsp;<span class="L0S52">LEADING&nbsp;</span>space<span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">TRANSLATE&nbsp;</span>ls_repos_2&nbsp;<span class="L0S52">TO&nbsp;</span><span class="L0S52">UPPER&nbsp;</span><span class="L0S52">CASE</span><span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">REPLACE&nbsp;</span><span class="L0S52">ALL&nbsp;</span><span class="L0S52">OCCURRENCES&nbsp;</span><span class="L0S52">OF&nbsp;</span>REGEX&nbsp;<span class="L0S33">'&quot;(.*)'&nbsp;</span><span class="L0S52">IN&nbsp;</span>ls_repos_2&nbsp;<span class="L0S52">WITH&nbsp;</span>space<span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">CONCATENATE&nbsp;</span>lv_line&nbsp;ls_repos_2&nbsp;<span class="L0S52">INTO&nbsp;</span>lv_line&nbsp;<span class="L0S52">SEPARATED&nbsp;</span><span class="L0S52">BY&nbsp;</span>space<span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">IF&nbsp;</span><span class="L0S52">NOT&nbsp;</span>ls_repos_2<span class="L0S70">-</span><span class="L0S52">line</span><span class="L0S55">(</span><span class="L0S32">1</span><span class="L0S55">)&nbsp;</span><span class="L0S55">=&nbsp;</span><span class="L0S33">'*'&nbsp;</span><span class="L0S52">AND</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">NOT&nbsp;</span>ls_repos_2<span class="L0S70">-</span><span class="L0S52">line</span><span class="L0S55">(</span><span class="L0S32">1</span><span class="L0S55">)&nbsp;</span><span class="L0S55">=&nbsp;</span><span class="L0S33">'&quot;'&nbsp;</span><span class="L0S52">AND</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ls_repos_2<span class="L0S70">-</span><span class="L0S52">line&nbsp;</span><span class="L0S52">CS&nbsp;</span><span class="L0S33">'.'</span><span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">IF&nbsp;</span><span class="L0S52">NOT&nbsp;</span>lv_line&nbsp;<span class="L0S52">CS&nbsp;</span><span class="L0S33">'ORDER&nbsp;BY'&nbsp;</span><span class="L0S52">AND</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">NOT&nbsp;</span>lv_line&nbsp;<span class="L0S52">CS&nbsp;</span><span class="L0S33">'COUNT'&nbsp;</span><span class="L0S52">AND</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">NOT&nbsp;</span>lv_line&nbsp;<span class="L0S52">CS&nbsp;</span><span class="L0S33">'MAX'</span><span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">IF&nbsp;</span>lv_add_sort&nbsp;<span class="L0S52">IS&nbsp;</span><span class="L0S52">INITIAL</span><span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">IF&nbsp;</span><span class="L0S55">(&nbsp;</span>lv_line&nbsp;<span class="L0S52">CS&nbsp;</span><span class="L0S33">'*'&nbsp;</span><span class="L0S52">AND&nbsp;</span><span class="L0S31">&quot;&nbsp;SELECT&nbsp;FROM&nbsp;TABLE</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lv_line&nbsp;<span class="L0S52">CS&nbsp;</span><span class="L0S33">'FROM'&nbsp;</span><span class="L0S52">AND</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lv_line&nbsp;<span class="L0S52">CS&nbsp;</span><span class="L0S33">'TABLE'&nbsp;</span><span class="L0S52">AND</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">NOT&nbsp;</span>lv_line&nbsp;<span class="L0S52">CS&nbsp;</span><span class="L0S33">'DISTINCT'&nbsp;</span><span class="L0S52">AND</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">NOT&nbsp;</span>lv_line&nbsp;<span class="L0S52">CS&nbsp;</span><span class="L0S33">'APPENDING'&nbsp;</span><span class="L0S52">AND</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">NOT&nbsp;</span>lv_line&nbsp;<span class="L0S52">CS&nbsp;</span><span class="L0S33">'JOIN'&nbsp;</span><span class="L0S55">)&nbsp;</span><span class="L0S52">OR</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S55">(&nbsp;</span>lv_line&nbsp;<span class="L0S52">CS&nbsp;</span><span class="L0S33">'INTO'&nbsp;</span><span class="L0S52">AND</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">NOT&nbsp;</span>lv_line&nbsp;<span class="L0S52">CS&nbsp;</span><span class="L0S33">'SINGLE'&nbsp;</span><span class="L0S52">AND</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">NOT&nbsp;</span>lv_line&nbsp;<span class="L0S52">CS&nbsp;</span><span class="L0S33">'TABLE'</span><span class="L0S55">)</span><span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;gv_source_updated&nbsp;<span class="L0S55">=&nbsp;</span><span class="L0S33">'X'</span><span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">REPLACE&nbsp;</span><span class="L0S52">ALL&nbsp;</span><span class="L0S52">OCCURRENCES&nbsp;</span><span class="L0S52">OF&nbsp;</span><span class="L0S33">'.'&nbsp;</span><span class="L0S52">IN&nbsp;</span>ls_repos_2<span class="L0S70">-</span><span class="L0S52">line&nbsp;</span><span class="L0S52">WITH&nbsp;</span><span class="L0S33">''</span><span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">MODIFY&nbsp;</span>gt_repos&nbsp;<span class="L0S52">FROM&nbsp;</span>ls_repos_2&nbsp;<span class="L0S52">INDEX&nbsp;</span>lv_i_2<span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lv_i_3&nbsp;<span class="L0S55">=&nbsp;</span>lv_i_2&nbsp;+&nbsp;<span class="L0S32">1</span><span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ls_repos_3<span class="L0S70">-</span><span class="L0S52">line&nbsp;</span><span class="L0S55">=&nbsp;</span><span class="L0S33">'ORDER&nbsp;BY&nbsp;PRIMARY&nbsp;KEY.'</span><span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">CONCATENATE&nbsp;</span>ls_repos_3<span class="L0S70">-</span><span class="L0S52">line&nbsp;</span><span class="L0S33">'&quot;'&nbsp;</span>p_trkor&nbsp;<span class="L0S33">'+'&nbsp;</span><span class="L0S52">INTO&nbsp;</span>ls_repos_3<span class="L0S70">-</span><span class="L0S52">line&nbsp;</span><span class="L0S52">SEPARATED&nbsp;</span><span class="L0S52">BY&nbsp;</span>space<span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">INSERT&nbsp;</span>ls_repos_3&nbsp;<span class="L0S52">INTO&nbsp;</span>gt_repos&nbsp;<span class="L0S52">INDEX&nbsp;</span>lv_i_3<span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lv_lines&nbsp;<span class="L0S55">=&nbsp;</span>lv_lines&nbsp;+&nbsp;<span class="L0S32">1</span><span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">MOVE&nbsp;</span>lv_i_3&nbsp;<span class="L0S52">TO&nbsp;</span>lv_num<span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">CLEAR&nbsp;</span>lv_line<span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">MOVE&nbsp;</span><span class="L0S33">'X'&nbsp;</span><span class="L0S52">TO&nbsp;</span>lv_out<span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">EXIT</span><span class="L0S55">.&nbsp;</span><span class="L0S31">&quot;on&nbsp;relance&nbsp;toute&nbsp;la&nbsp;boucle&nbsp;car&nbsp;on&nbsp;perd&nbsp;l'index</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">ELSEIF&nbsp;</span>lv_line&nbsp;<span class="L0S52">CS&nbsp;</span><span class="L0S33">'*'&nbsp;</span><span class="L0S52">AND&nbsp;</span><span class="L0S31">&quot;&nbsp;SELECT&nbsp;*&nbsp;ENDSELECT&nbsp;ne&nbsp;rien&nbsp;faire</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lv_line&nbsp;<span class="L0S52">CS&nbsp;</span><span class="L0S33">'FROM'&nbsp;</span><span class="L0S52">AND</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lv_line&nbsp;<span class="L0S52">NS&nbsp;</span><span class="L0S33">'TABLE'</span><span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">MOVE&nbsp;</span>lv_i_2&nbsp;<span class="L0S52">TO&nbsp;</span>lv_num<span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">CLEAR&nbsp;</span>lv_line<span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">MOVE&nbsp;</span><span class="L0S33">'X'&nbsp;</span><span class="L0S52">TO&nbsp;</span>lv_out<span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">EXIT</span><span class="L0S55">.&nbsp;</span><span class="L0S31">&quot;on&nbsp;relance&nbsp;toute&nbsp;la&nbsp;boucle&nbsp;car&nbsp;on&nbsp;perd&nbsp;l'index</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">ELSE</span><span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lv_add_sort&nbsp;<span class="L0S55">=&nbsp;</span><span class="L0S33">'X'</span><span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">REPLACE&nbsp;</span><span class="L0S52">ALL&nbsp;</span><span class="L0S52">OCCURRENCES&nbsp;</span><span class="L0S52">OF&nbsp;</span><span class="L0S33">'table'&nbsp;</span><span class="L0S52">IN&nbsp;</span>lv_line&nbsp;<span class="L0S52">WITH&nbsp;</span><span class="L0S33">'TABLE'</span><span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">SPLIT&nbsp;</span>lv_line&nbsp;<span class="L0S52">AT&nbsp;</span><span class="L0S33">'TABLE'&nbsp;</span><span class="L0S52">INTO&nbsp;</span>lv_table&nbsp;lv_line<span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">SHIFT&nbsp;</span>lv_line&nbsp;<span class="L0S52">LEFT&nbsp;</span>DELETING&nbsp;<span class="L0S52">LEADING&nbsp;</span>space<span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">SPLIT&nbsp;</span>lv_line&nbsp;<span class="L0S52">AT&nbsp;</span>space&nbsp;<span class="L0S52">INTO&nbsp;</span>lv_table&nbsp;lv_line<span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">SPLIT&nbsp;</span>lv_table&nbsp;<span class="L0S52">AT&nbsp;</span><span class="L0S33">'.'&nbsp;</span><span class="L0S52">INTO&nbsp;</span>lv_table&nbsp;lv_line<span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">IF&nbsp;</span>lv_table&nbsp;<span class="L0S52">IS&nbsp;</span><span class="L0S52">INITIAL</span><span class="L0S55">.&nbsp;</span><span class="L0S31">&quot;&nbsp;cas&nbsp;select/endselect</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">CLEAR&nbsp;</span>lv_add_sort<span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">ELSE</span><span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lv_i_4&nbsp;<span class="L0S55">=&nbsp;</span>lv_i_2&nbsp;+&nbsp;<span class="L0S32">1</span><span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">IF&nbsp;</span>lv_i_2&nbsp;<span class="L0S55">=&nbsp;</span>lv_lines<span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lv_lines&nbsp;<span class="L0S55">=&nbsp;</span>lv_lines&nbsp;+&nbsp;<span class="L0S32">1</span><span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">ENDIF</span><span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">ENDIF</span><span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">ENDIF</span><span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">ELSE</span><span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">IF&nbsp;</span>lv_line&nbsp;<span class="L0S52">CS&nbsp;</span><span class="L0S33">'SORT'&nbsp;</span><span class="L0S52">AND</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lv_line&nbsp;<span class="L0S52">CS&nbsp;</span>lv_table<span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">CLEAR</span><span class="L0S55">:&nbsp;</span>lv_add_sort<span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">MOVE&nbsp;</span>lv_i_2&nbsp;<span class="L0S52">TO&nbsp;</span>lv_num<span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">ELSE</span><span class="L0S55">.</span><br>
<span class="L0S31">*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ELSEIF&nbsp;NOT&nbsp;lv_line&nbsp;CS&nbsp;'SORT'&nbsp;AND</span><br>
<span class="L0S31">*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;NOT&nbsp;lv_line&nbsp;CS&nbsp;lv_table.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;gv_source_updated&nbsp;<span class="L0S55">=&nbsp;</span><span class="L0S33">'X'</span><span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">CONCATENATE&nbsp;</span><span class="L0S33">'SORT'&nbsp;</span>lv_table&nbsp;<span class="L0S52">INTO&nbsp;</span>ls_repos_3<span class="L0S70">-</span><span class="L0S52">line&nbsp;</span><span class="L0S52">SEPARATED&nbsp;</span><span class="L0S52">BY&nbsp;</span>space<span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">CONCATENATE&nbsp;</span>ls_repos_3<span class="L0S70">-</span><span class="L0S52">line&nbsp;</span><span class="L0S33">'.'&nbsp;</span><span class="L0S52">INTO&nbsp;</span>ls_repos_3<span class="L0S70">-</span><span class="L0S52">line</span><span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">CONCATENATE&nbsp;</span>ls_repos_3<span class="L0S70">-</span><span class="L0S52">line&nbsp;</span><span class="L0S33">'&quot;'&nbsp;</span>p_trkor&nbsp;<span class="L0S33">'+'&nbsp;</span><span class="L0S52">INTO&nbsp;</span>ls_repos_3<span class="L0S70">-</span><span class="L0S52">line&nbsp;</span><span class="L0S52">SEPARATED&nbsp;</span><span class="L0S52">BY&nbsp;</span>space<span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">INSERT&nbsp;</span>ls_repos_3&nbsp;<span class="L0S52">INTO&nbsp;</span>gt_repos&nbsp;<span class="L0S52">INDEX&nbsp;</span>lv_i_4<span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">MOVE&nbsp;</span>lv_i_4&nbsp;<span class="L0S52">TO&nbsp;</span>lv_num<span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lv_lines&nbsp;<span class="L0S55">=&nbsp;</span>lv_lines&nbsp;+&nbsp;<span class="L0S32">1</span><span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">CLEAR</span><span class="L0S55">:&nbsp;</span>lv_add_sort<span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">ENDIF</span><span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">CLEAR&nbsp;</span>lv_line<span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">MOVE&nbsp;</span><span class="L0S33">'X'&nbsp;</span><span class="L0S52">TO&nbsp;</span>lv_out<span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">EXIT</span><span class="L0S55">.&nbsp;</span><span class="L0S31">&quot;on&nbsp;relance&nbsp;toute&nbsp;la&nbsp;boucle&nbsp;car&nbsp;on&nbsp;perd&nbsp;l'index</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">ENDIF</span><span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">ENDIF</span><span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">CLEAR</span><span class="L0S55">:&nbsp;</span>lv_line<span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">IF&nbsp;</span><span class="L0S52">NOT&nbsp;</span>lv_add_sort&nbsp;<span class="L0S55">=&nbsp;</span><span class="L0S33">'X'</span><span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">EXIT</span><span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">ENDIF</span><span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">ENDIF</span><span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">ENDIF</span><span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">ADD&nbsp;</span><span class="L0S32">1&nbsp;</span><span class="L0S52">TO&nbsp;</span>lv_i_2<span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">ELSE</span><span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">EXIT</span><span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">ENDIF</span><span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">ENDDO</span><span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">ENDIF</span><span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">AT&nbsp;</span><span class="L0S52">LAST</span><span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">MOVE&nbsp;</span><span class="L0S33">'X'&nbsp;</span><span class="L0S52">TO&nbsp;</span>lv_leave<span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">ENDAT</span><span class="L0S55">.</span><br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">IF&nbsp;</span>lv_out&nbsp;<span class="L0S52">IS&nbsp;</span><span class="L0S52">NOT&nbsp;</span><span class="L0S52">INITIAL</span><span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">CLEAR&nbsp;</span>lv_add_sort<span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">EXIT</span><span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">ENDIF</span><span class="L0S55">.</span><br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">ENDLOOP</span><span class="L0S55">.</span><br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">IF&nbsp;</span>lv_leave&nbsp;<span class="L0S52">IS&nbsp;</span><span class="L0S52">NOT&nbsp;</span><span class="L0S52">INITIAL</span><span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">EXIT</span><span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">ENDIF</span><span class="L0S55">.</span><br>
<br>
&nbsp;&nbsp;<span class="L0S52">ENDDO</span><span class="L0S55">.</span><br>
<br>
&nbsp;&nbsp;<span class="L0S52">CLEAR</span><span class="L0S55">:&nbsp;</span>lv_i<span class="L0S55">,</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lv_i_2<span class="L0S55">.</span><br>
<br>
&nbsp;&nbsp;<span class="L0S52">IF&nbsp;</span>gv_source_updated&nbsp;<span class="L0S55">=&nbsp;</span><span class="L0S33">'X'</span><span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">LOOP&nbsp;</span><span class="L0S52">AT&nbsp;</span>gt_repos&nbsp;<span class="L0S52">INTO&nbsp;</span>ls_repos<span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lv_i&nbsp;<span class="L0S55">=&nbsp;</span>sy<span class="L0S70">-</span>tabix<span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">SHIFT&nbsp;</span>ls_repos<span class="L0S70">-</span><span class="L0S52">line&nbsp;</span><span class="L0S52">LEFT&nbsp;</span>DELETING&nbsp;<span class="L0S52">LEADING&nbsp;</span>space<span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">IF&nbsp;</span>lv_i&nbsp;&lt;&nbsp;<span class="L0S32">11&nbsp;</span><span class="L0S52">AND</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ls_repos<span class="L0S70">-</span><span class="L0S52">line</span><span class="L0S55">(</span><span class="L0S32">1</span><span class="L0S55">)&nbsp;</span><span class="L0S55">=&nbsp;</span><span class="L0S33">'*'</span><span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lv_i_2&nbsp;<span class="L0S55">=&nbsp;</span>lv_i<span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">EXIT</span><span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">ENDIF</span><span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">ENDLOOP</span><span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">LOOP&nbsp;</span><span class="L0S52">AT&nbsp;</span>gt_repos&nbsp;<span class="L0S52">INTO&nbsp;</span>ls_repos<span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lv_i&nbsp;<span class="L0S55">=&nbsp;</span>sy<span class="L0S70">-</span>tabix<span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">SHIFT&nbsp;</span>ls_repos<span class="L0S70">-</span><span class="L0S52">line&nbsp;</span><span class="L0S52">LEFT&nbsp;</span>DELETING&nbsp;<span class="L0S52">LEADING&nbsp;</span>space<span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">IF&nbsp;</span><span class="L0S52">NOT&nbsp;</span>lv_i_2&nbsp;<span class="L0S52">IS&nbsp;</span><span class="L0S52">INITIAL&nbsp;</span><span class="L0S52">AND</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lv_i&nbsp;&lt;&nbsp;lv_i_2<span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">CONTINUE</span><span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">ENDIF</span><span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">IF&nbsp;</span><span class="L0S52">NOT&nbsp;</span>ls_repos<span class="L0S70">-</span><span class="L0S52">line</span><span class="L0S55">(</span><span class="L0S32">1</span><span class="L0S55">)&nbsp;</span><span class="L0S55">=&nbsp;</span><span class="L0S33">'*'</span><span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ls_repos_3<span class="L0S70">-</span><span class="L0S52">line&nbsp;</span><span class="L0S55">=&nbsp;</span><span class="L0S33">'************************************************************************'</span><span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">PERFORM&nbsp;</span>add_source_code&nbsp;<span class="L0S52">USING&nbsp;</span>ls_repos_3<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">CHANGING&nbsp;</span>gt_repos<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lv_i<span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">CONCATENATE&nbsp;</span><span class="L0S33">'*&nbsp;Modification&nbsp;ID:'&nbsp;</span>p_trkor&nbsp;<span class="L0S33">'&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*'&nbsp;</span><span class="L0S52">INTO&nbsp;</span>ls_repos_3<span class="L0S70">-</span><span class="L0S52">line&nbsp;</span><span class="L0S52">SEPARATED&nbsp;</span><span class="L0S52">BY&nbsp;</span>space<span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">PERFORM&nbsp;</span>add_source_code&nbsp;<span class="L0S52">USING&nbsp;</span>ls_repos_3<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">CHANGING&nbsp;</span>gt_repos<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lv_i<span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">CONCATENATE&nbsp;</span>sy<span class="L0S70">-</span>datum+6<span class="L0S55">(</span><span class="L0S32">2</span><span class="L0S55">)&nbsp;</span><span class="L0S33">'/'&nbsp;</span>sy<span class="L0S70">-</span>datum+4<span class="L0S55">(</span><span class="L0S32">2</span><span class="L0S55">)&nbsp;</span><span class="L0S33">'/'&nbsp;</span>sy<span class="L0S70">-</span>datum<span class="L0S55">(</span><span class="L0S32">4</span><span class="L0S55">)&nbsp;</span><span class="L0S52">INTO&nbsp;</span>lv_date<span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">CONCATENATE&nbsp;</span><span class="L0S33">'*&nbsp;Date&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:'&nbsp;</span>lv_date&nbsp;<span class="L0S33">'&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*'&nbsp;</span><span class="L0S52">INTO&nbsp;</span>ls_repos_3<span class="L0S70">-</span><span class="L0S52">line&nbsp;</span><span class="L0S52">SEPARATED&nbsp;</span><span class="L0S52">BY&nbsp;</span>space<span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">PERFORM&nbsp;</span>add_source_code&nbsp;<span class="L0S52">USING&nbsp;</span>ls_repos_3<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">CHANGING&nbsp;</span>gt_repos<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lv_i<span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ls_repos_3<span class="L0S70">-</span><span class="L0S52">line&nbsp;</span><span class="L0S55">=&nbsp;</span><span class="L0S33">'*&nbsp;Author&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;Augusta&nbsp;Reeves&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*'</span><span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">PERFORM&nbsp;</span>add_source_code&nbsp;<span class="L0S52">USING&nbsp;</span>ls_repos_3<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">CHANGING&nbsp;</span>gt_repos<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lv_i<span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ls_repos_3<span class="L0S70">-</span><span class="L0S52">line&nbsp;</span><span class="L0S55">=&nbsp;</span><span class="L0S33">'*&nbsp;Description&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;Update&nbsp;objects&nbsp;for&nbsp;HANA&nbsp;upgrade&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*'</span><span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">PERFORM&nbsp;</span>add_source_code&nbsp;<span class="L0S52">USING&nbsp;</span>ls_repos_3<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">CHANGING&nbsp;</span>gt_repos<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lv_i<span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ls_repos_3<span class="L0S70">-</span><span class="L0S52">line&nbsp;</span><span class="L0S55">=&nbsp;</span><span class="L0S33">'************************************************************************'</span><span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">PERFORM&nbsp;</span>add_source_code&nbsp;<span class="L0S52">USING&nbsp;</span>ls_repos_3<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">CHANGING&nbsp;</span>gt_repos<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lv_i<span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">EXIT</span><span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">ENDIF</span><span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">ENDLOOP</span><span class="L0S55">.</span><br>
&nbsp;&nbsp;<span class="L0S52">ELSE</span><span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">PERFORM&nbsp;</span>add_message&nbsp;<span class="L0S52">USING&nbsp;</span>icon_led_red<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;gs_e071<span class="L0S70">-</span>obj_name<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S33">''</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">TEXT</span><span class="L0S70">-</span>e05<span class="L0S55">.</span><br>
&nbsp;&nbsp;<span class="L0S52">ENDIF</span><span class="L0S55">.</span><br>
<br>
<span class="L0S52">ENDFORM</span><span class="L0S55">.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="L0S31">&quot;&nbsp;UPDATE_SOURCE_CODE</span><br>
<span class="L0S31">*&amp;---------------------------------------------------------------------*</span><br>
<span class="L0S31">*&amp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Form&nbsp;&nbsp;SAVE_SOURCE_CODE</span><br>
<span class="L0S31">*&amp;---------------------------------------------------------------------*</span><br>
<span class="L0S52">FORM&nbsp;</span>save_source_code<span class="L0S55">.</span><br>
<br>
&nbsp;&nbsp;<span class="L0S52">DATA</span><span class="L0S55">:&nbsp;</span>lt_content&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">TYPE&nbsp;</span>rswsourcet<span class="L0S55">,</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lt_smodilog_abap&nbsp;<span class="L0S52">TYPE&nbsp;</span><span class="L0S52">TABLE&nbsp;</span><span class="L0S52">OF&nbsp;</span>smodilog<span class="L0S55">,</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lt_content_old&nbsp;&nbsp;&nbsp;<span class="L0S52">TYPE&nbsp;</span>sedi_source<span class="L0S55">,</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lt_mod_tab&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">TYPE&nbsp;</span>smodi_mod_tab<span class="L0S55">,</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lt_delete_tab&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">TYPE&nbsp;</span>smodi_src_tab<span class="L0S55">,</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lt_smodisrc_tab&nbsp;&nbsp;<span class="L0S52">TYPE&nbsp;</span>smodi_src_tab<span class="L0S55">,</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lt_error_tab&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">TYPE&nbsp;</span><span class="L0S52">TABLE&nbsp;</span><span class="L0S52">OF&nbsp;</span>swbme_error_entry<span class="L0S55">,</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lt_mtext&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">TYPE&nbsp;</span>rsfb_source<span class="L0S55">.</span><br>
<br>
&nbsp;&nbsp;<span class="L0S52">DATA</span><span class="L0S55">:&nbsp;</span>ls_trdir&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">TYPE&nbsp;</span>trdir<span class="L0S55">,</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ls_enhincinx&nbsp;<span class="L0S52">TYPE&nbsp;</span>enhincinx<span class="L0S55">,</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ls_error_tab&nbsp;<span class="L0S52">TYPE&nbsp;</span>swbme_error_entry<span class="L0S55">,</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ls_mtext&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">LIKE&nbsp;</span><span class="L0S52">LINE&nbsp;</span><span class="L0S52">OF&nbsp;</span>lt_mtext<span class="L0S55">.</span><br>
<br>
&nbsp;&nbsp;<span class="L0S52">DATA</span><span class="L0S55">:&nbsp;</span>lv_transport_key&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">TYPE&nbsp;</span>trkey<span class="L0S55">,</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lv_modificationmode&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">TYPE&nbsp;</span><span class="L0S52">c</span><span class="L0S55">,</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lv_source_name&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">TYPE&nbsp;</span>sy<span class="L0S70">-</span>repid<span class="L0S55">,</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lv_active_inactive_allowed&nbsp;<span class="L0S52">TYPE&nbsp;</span><span class="L0S52">c</span><span class="L0S55">,</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lv_status_flag&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">TYPE&nbsp;</span><span class="L0S52">c</span><span class="L0S55">,</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lv_source_modified&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">TYPE&nbsp;</span><span class="L0S52">c</span><span class="L0S55">,</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lv_frame&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">TYPE&nbsp;</span>programm<span class="L0S55">,</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lv_line<span class="L0S55">(</span><span class="L0S32">50</span><span class="L0S55">)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="L0S52">TYPE&nbsp;</span><span class="L0S52">c</span><span class="L0S55">,</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lv_reason&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">TYPE&nbsp;</span>bapi_msg<span class="L0S55">.</span><br>
<br>
&nbsp;&nbsp;<span class="L0S52">DATA</span><span class="L0S55">:&nbsp;</span>lcl_checklist&nbsp;<span class="L0S52">TYPE&nbsp;</span><span class="L0S52">REF&nbsp;</span><span class="L0S52">TO&nbsp;</span>cl_wb_checklist<span class="L0S55">.</span><br>
<br>
&nbsp;&nbsp;<span class="L0S52">CLEAR</span><span class="L0S55">:&nbsp;</span>gv_source_saved<span class="L0S55">.</span><br>
<br>
&nbsp;&nbsp;<span class="L0S52">CASE&nbsp;</span>gs_e071<span class="L0S70">-</span>object<span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">WHEN&nbsp;</span>gc_prog<span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lv_transport_key<span class="L0S70">-</span>obj_name&nbsp;<span class="L0S55">=&nbsp;</span>gs_e071<span class="L0S70">-</span>obj_name<span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lv_transport_key<span class="L0S70">-</span>sub_type&nbsp;<span class="L0S55">=&nbsp;</span>gc_reps<span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lv_transport_key<span class="L0S70">-</span>sub_name&nbsp;<span class="L0S55">=&nbsp;</span>gs_e071<span class="L0S70">-</span>obj_name<span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lv_source_name&nbsp;<span class="L0S55">=&nbsp;</span>gs_e071<span class="L0S70">-</span>obj_name<span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">WHEN&nbsp;</span>gc_clas<span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lv_transport_key<span class="L0S70">-</span>obj_type&nbsp;<span class="L0S55">=&nbsp;</span>gc_clas<span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lv_transport_key<span class="L0S70">-</span>obj_name&nbsp;<span class="L0S55">=&nbsp;</span>gs_file<span class="L0S70">-</span>object_name<span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lv_transport_key<span class="L0S70">-</span>sub_type&nbsp;<span class="L0S55">=&nbsp;</span>gc_meth<span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lv_transport_key<span class="L0S70">-</span>sub_name&nbsp;<span class="L0S55">=&nbsp;</span>gs_file<span class="L0S70">-</span>object_name<span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">READ&nbsp;</span><span class="L0S52">TABLE&nbsp;</span>gt_trdir&nbsp;<span class="L0S52">INTO&nbsp;</span>ls_trdir&nbsp;<span class="L0S52">INDEX&nbsp;</span><span class="L0S32">1</span><span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">IF&nbsp;</span>sy<span class="L0S70">-</span>subrc&nbsp;<span class="L0S55">=&nbsp;</span><span class="L0S32">0</span><span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lv_source_name&nbsp;<span class="L0S55">=&nbsp;</span>ls_trdir<span class="L0S70">-</span>name<span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">ENDIF</span><span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">WHEN&nbsp;</span>gc_meth<span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lv_transport_key<span class="L0S70">-</span>obj_type&nbsp;<span class="L0S55">=&nbsp;</span>gc_clas<span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lv_transport_key<span class="L0S70">-</span>obj_name&nbsp;<span class="L0S55">=&nbsp;</span>gs_e071<span class="L0S70">-</span>obj_name<span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lv_transport_key<span class="L0S70">-</span>sub_type&nbsp;<span class="L0S55">=&nbsp;</span>gs_e071<span class="L0S70">-</span>object<span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lv_transport_key<span class="L0S70">-</span>sub_name&nbsp;<span class="L0S55">=&nbsp;</span>gs_e071<span class="L0S70">-</span>obj_name<span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">READ&nbsp;</span><span class="L0S52">TABLE&nbsp;</span>gt_trdir&nbsp;<span class="L0S52">INTO&nbsp;</span>ls_trdir&nbsp;<span class="L0S52">INDEX&nbsp;</span><span class="L0S32">1</span><span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">IF&nbsp;</span>sy<span class="L0S70">-</span>subrc&nbsp;<span class="L0S55">=&nbsp;</span><span class="L0S32">0</span><span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lv_source_name&nbsp;<span class="L0S55">=&nbsp;</span>ls_trdir<span class="L0S70">-</span>name<span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">ENDIF</span><span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">WHEN&nbsp;</span>gc_fugr<span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lv_transport_key<span class="L0S70">-</span>obj_type&nbsp;<span class="L0S55">=&nbsp;</span>gc_fugr<span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lv_transport_key<span class="L0S70">-</span>obj_name&nbsp;<span class="L0S55">=&nbsp;</span>gs_file<span class="L0S70">-</span>object_name<span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lv_transport_key<span class="L0S70">-</span>sub_type&nbsp;<span class="L0S55">=&nbsp;</span>gc_func<span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lv_transport_key<span class="L0S70">-</span>sub_name&nbsp;<span class="L0S55">=&nbsp;</span>gs_file<span class="L0S70">-</span>object_name<span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">READ&nbsp;</span><span class="L0S52">TABLE&nbsp;</span>gt_trdir&nbsp;<span class="L0S52">INTO&nbsp;</span>ls_trdir&nbsp;<span class="L0S52">INDEX&nbsp;</span><span class="L0S32">1</span><span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">IF&nbsp;</span>sy<span class="L0S70">-</span>subrc&nbsp;<span class="L0S55">=&nbsp;</span><span class="L0S32">0</span><span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lv_source_name&nbsp;<span class="L0S55">=&nbsp;</span>ls_trdir<span class="L0S70">-</span>name<span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">ENDIF</span><span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">WHEN&nbsp;</span>gc_func<span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lv_transport_key<span class="L0S70">-</span>obj_type&nbsp;<span class="L0S55">=&nbsp;</span>gc_fugr<span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lv_transport_key<span class="L0S70">-</span>obj_name&nbsp;<span class="L0S55">=&nbsp;</span>gs_e071<span class="L0S70">-</span>obj_name<span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lv_transport_key<span class="L0S70">-</span>sub_type&nbsp;<span class="L0S55">=&nbsp;</span>gs_e071<span class="L0S70">-</span>object<span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lv_transport_key<span class="L0S70">-</span>sub_name&nbsp;<span class="L0S55">=&nbsp;</span>gs_e071<span class="L0S70">-</span>obj_name<span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">READ&nbsp;</span><span class="L0S52">TABLE&nbsp;</span>gt_trdir&nbsp;<span class="L0S52">INTO&nbsp;</span>ls_trdir&nbsp;<span class="L0S52">INDEX&nbsp;</span><span class="L0S32">1</span><span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">IF&nbsp;</span>sy<span class="L0S70">-</span>subrc&nbsp;<span class="L0S55">=&nbsp;</span><span class="L0S32">0</span><span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lv_source_name&nbsp;<span class="L0S55">=&nbsp;</span>ls_trdir<span class="L0S70">-</span>name<span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">ENDIF</span><span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">WHEN&nbsp;</span><span class="L0S52">OTHERS</span><span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lv_transport_key<span class="L0S70">-</span>obj_name&nbsp;<span class="L0S55">=&nbsp;</span>gs_e071<span class="L0S70">-</span>obj_name<span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lv_transport_key<span class="L0S70">-</span>sub_type&nbsp;<span class="L0S55">=&nbsp;</span>gs_e071<span class="L0S70">-</span>object<span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lv_transport_key<span class="L0S70">-</span>sub_name&nbsp;<span class="L0S55">=&nbsp;</span>gs_e071<span class="L0S70">-</span>obj_name<span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lv_source_name&nbsp;<span class="L0S55">=&nbsp;</span>gs_e071<span class="L0S70">-</span>obj_name<span class="L0S55">.</span><br>
&nbsp;&nbsp;<span class="L0S52">ENDCASE</span><span class="L0S55">.</span><br>
<br>
&nbsp;&nbsp;lv_active_inactive_allowed&nbsp;<span class="L0S55">=&nbsp;</span><span class="L0S33">''</span><span class="L0S55">.</span><br>
&nbsp;&nbsp;lv_status_flag&nbsp;<span class="L0S55">=&nbsp;</span><span class="L0S33">'A'</span><span class="L0S55">.</span><br>
&nbsp;&nbsp;lv_source_modified&nbsp;<span class="L0S55">=&nbsp;</span><span class="L0S33">'X'</span><span class="L0S55">.</span><br>
&nbsp;&nbsp;lt_content[]&nbsp;<span class="L0S55">=&nbsp;</span>gt_repos[]<span class="L0S55">.</span><br>
<br>
&nbsp;&nbsp;<span class="L0S52">CALL&nbsp;</span><span class="L0S52">FUNCTION&nbsp;</span><span class="L0S33">'SAVE_SOURCE'</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">EXPORTING</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;transport_key&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S55">=&nbsp;</span>lv_transport_key<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;modificationmode&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S55">=&nbsp;</span>lv_modificationmode<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;source_name&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S55">=&nbsp;</span>lv_source_name<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;active_inactive_allowed&nbsp;<span class="L0S55">=&nbsp;</span>lv_active_inactive_allowed<br>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">TABLES</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;content&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S55">=&nbsp;</span>lt_content<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;smodilog_abap&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S55">=&nbsp;</span>lt_smodilog_abap<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;content_old&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S55">=&nbsp;</span>lt_content_old<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mod_tab&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S55">=&nbsp;</span>lt_mod_tab<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;delete_tab&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S55">=&nbsp;</span>lt_delete_tab<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;smodisrc_tab&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S55">=&nbsp;</span>lt_smodisrc_tab<br>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">CHANGING</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;status_flag&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S55">=&nbsp;</span>lv_status_flag<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;source_modified&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S55">=&nbsp;</span>lv_source_modified<span class="L0S55">.</span><br>
<br>
&nbsp;&nbsp;<span class="L0S52">IF&nbsp;</span>sy<span class="L0S70">-</span>subrc&nbsp;<span class="L0S55">=&nbsp;</span><span class="L0S32">0</span><span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;gv_source_saved&nbsp;<span class="L0S55">=&nbsp;</span><span class="L0S33">'X'</span><span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">CASE&nbsp;</span>gs_e071<span class="L0S70">-</span>object<span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">WHEN&nbsp;</span>gc_prog<span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lv_frame&nbsp;<span class="L0S55">=&nbsp;</span>lv_source_name<span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">CREATE&nbsp;</span>OBJECT&nbsp;lcl_checklist<span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">CALL&nbsp;</span><span class="L0S52">FUNCTION&nbsp;</span><span class="L0S33">'RS_CHECK_SOURCE'</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">EXPORTING</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;p_frame&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S55">=&nbsp;</span>lv_frame<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">CHANGING</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;p_checklist&nbsp;<span class="L0S55">=&nbsp;</span>lcl_checklist<span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lcl_checklist<span class="L0S70">-&gt;</span>get_error_messages<span class="L0S55">(</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">IMPORTING&nbsp;</span>p_error_tab&nbsp;<span class="L0S55">=&nbsp;</span>lt_error_tab&nbsp;<span class="L0S55">)</span><span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">LOOP&nbsp;</span><span class="L0S52">AT&nbsp;</span>lt_error_tab&nbsp;<span class="L0S52">INTO&nbsp;</span>ls_error_tab&nbsp;<span class="L0S52">WHERE&nbsp;</span>mtype&nbsp;<span class="L0S55">=&nbsp;</span><span class="L0S33">'E'</span><span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lt_mtext&nbsp;<span class="L0S55">=&nbsp;</span>ls_error_tab<span class="L0S70">-</span>mtext<span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">LOOP&nbsp;</span><span class="L0S52">AT&nbsp;</span>lt_mtext&nbsp;<span class="L0S52">INTO&nbsp;</span>ls_mtext<span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lv_line&nbsp;<span class="L0S55">=&nbsp;</span>ls_error_tab<span class="L0S70">-</span><span class="L0S52">line</span><span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">SHIFT&nbsp;</span>lv_line&nbsp;<span class="L0S52">LEFT&nbsp;</span>DELETING&nbsp;<span class="L0S52">LEADING&nbsp;</span>space<span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">CONCATENATE&nbsp;</span><span class="L0S33">'Line'&nbsp;</span>lv_line&nbsp;<span class="L0S33">':'</span>ls_mtext&nbsp;<span class="L0S52">INTO&nbsp;</span>lv_reason&nbsp;<span class="L0S52">SEPARATED&nbsp;</span><span class="L0S52">BY&nbsp;</span>space<span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">PERFORM&nbsp;</span>add_message&nbsp;<span class="L0S52">USING&nbsp;</span>icon_led_red<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;gs_e071<span class="L0S70">-</span>obj_name<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S33">''</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lv_reason<span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">ENDLOOP</span><span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">ENDLOOP</span><span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">CLEAR</span><span class="L0S55">:&nbsp;</span>lcl_checklist<span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">WHEN&nbsp;</span><span class="L0S52">OTHERS</span><span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">ENDCASE</span><span class="L0S55">.</span><br>
&nbsp;&nbsp;<span class="L0S52">ENDIF</span><span class="L0S55">.</span><br>
<br>
<span class="L0S52">ENDFORM</span><span class="L0S55">.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="L0S31">&quot;&nbsp;SAVE_SOURCE_CODE</span><br>
<span class="L0S31">*&amp;---------------------------------------------------------------------*</span><br>
<span class="L0S31">*&amp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Form&nbsp;&nbsp;ADD_REPORT_IN_TRANSPORT</span><br>
<span class="L0S31">*&amp;---------------------------------------------------------------------*</span><br>
<span class="L0S52">FORM&nbsp;</span>add_report_in_transport<span class="L0S55">.</span><br>
<br>
&nbsp;&nbsp;<span class="L0S52">DATA</span><span class="L0S55">:&nbsp;</span>lt_ko200&nbsp;<span class="L0S52">TYPE&nbsp;</span>tredt_objects<span class="L0S55">.</span><br>
<br>
&nbsp;&nbsp;<span class="L0S52">DATA</span><span class="L0S55">:&nbsp;</span>ls_ko200&nbsp;<span class="L0S52">LIKE&nbsp;</span><span class="L0S52">LINE&nbsp;</span><span class="L0S52">OF&nbsp;</span>lt_ko200<span class="L0S55">.</span><br>
<br>
&nbsp;&nbsp;<span class="L0S52">DATA</span><span class="L0S55">:&nbsp;</span>lv_order&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">TYPE&nbsp;</span>trkorr<span class="L0S55">,</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lv_with_dialog&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">TYPE&nbsp;</span>trboolean<span class="L0S55">,</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lv_send_message&nbsp;&nbsp;&nbsp;<span class="L0S52">TYPE&nbsp;</span>trboolean<span class="L0S55">,</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lv_no_show_option&nbsp;<span class="L0S52">TYPE&nbsp;</span>trboolean<span class="L0S55">,</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lv_old_call&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">TYPE&nbsp;</span>trboolean<span class="L0S55">.</span><br>
<br>
&nbsp;&nbsp;lv_order&nbsp;<span class="L0S55">=&nbsp;</span>p_trkor<span class="L0S55">.</span><br>
&nbsp;&nbsp;lv_with_dialog&nbsp;<span class="L0S55">=&nbsp;</span><span class="L0S33">'X'</span><span class="L0S55">.</span><br>
&nbsp;&nbsp;lv_send_message&nbsp;<span class="L0S55">=&nbsp;</span><span class="L0S33">'X'</span><span class="L0S55">.</span><br>
&nbsp;&nbsp;lv_no_show_option&nbsp;<span class="L0S55">=&nbsp;</span><span class="L0S33">'X'</span><span class="L0S55">.</span><br>
&nbsp;&nbsp;lv_old_call&nbsp;<span class="L0S55">=&nbsp;</span><span class="L0S33">'X'</span><span class="L0S55">.</span><br>
<br>
&nbsp;&nbsp;<span class="L0S52">CASE&nbsp;</span>gs_e071<span class="L0S70">-</span>object<span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">WHEN&nbsp;</span>gc_clas<span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ls_ko200<span class="L0S70">-</span>pgmid&nbsp;<span class="L0S55">=&nbsp;</span>gc_limu<span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ls_ko200<span class="L0S70">-</span>object&nbsp;<span class="L0S55">=&nbsp;</span>gc_meth<span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ls_ko200<span class="L0S70">-</span>obj_name&nbsp;<span class="L0S55">=&nbsp;</span>gs_file<span class="L0S70">-</span>object_name<span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">APPEND&nbsp;</span>ls_ko200&nbsp;<span class="L0S52">TO&nbsp;</span>lt_ko200<span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">WHEN&nbsp;</span>gc_fugr<span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ls_ko200<span class="L0S70">-</span>pgmid&nbsp;<span class="L0S55">=&nbsp;</span>gc_limu<span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ls_ko200<span class="L0S70">-</span>object&nbsp;<span class="L0S55">=&nbsp;</span>gc_func<span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ls_ko200<span class="L0S70">-</span>obj_name&nbsp;<span class="L0S55">=&nbsp;</span>gs_file<span class="L0S70">-</span>object_name<span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">APPEND&nbsp;</span>ls_ko200&nbsp;<span class="L0S52">TO&nbsp;</span>lt_ko200<span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">WHEN&nbsp;</span><span class="L0S52">OTHERS</span><span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ls_ko200<span class="L0S70">-</span>pgmid&nbsp;<span class="L0S55">=&nbsp;</span>gs_e071<span class="L0S70">-</span>pgmid<span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ls_ko200<span class="L0S70">-</span>object&nbsp;<span class="L0S55">=&nbsp;</span>gs_e071<span class="L0S70">-</span>object<span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ls_ko200<span class="L0S70">-</span>obj_name&nbsp;<span class="L0S55">=&nbsp;</span>gs_e071<span class="L0S70">-</span>obj_name<span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">APPEND&nbsp;</span>ls_ko200&nbsp;<span class="L0S52">TO&nbsp;</span>lt_ko200<span class="L0S55">.</span><br>
&nbsp;&nbsp;<span class="L0S52">ENDCASE</span><span class="L0S55">.</span><br>
<br>
&nbsp;&nbsp;<span class="L0S52">CALL&nbsp;</span><span class="L0S52">FUNCTION&nbsp;</span><span class="L0S33">'TRINT_OBJECTS_CHECK_AND_INSERT'</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">EXPORTING</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;iv_order&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S55">=&nbsp;</span>lv_order<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;iv_with_dialog&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S55">=&nbsp;</span>lv_with_dialog<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;iv_send_message&nbsp;&nbsp;&nbsp;<span class="L0S55">=&nbsp;</span>lv_send_message<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;iv_no_show_option&nbsp;<span class="L0S55">=&nbsp;</span>lv_no_show_option<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;iv_old_call&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S55">=&nbsp;</span>lv_old_call<br>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">CHANGING</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ct_ko200&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S55">=&nbsp;</span>lt_ko200<span class="L0S55">.</span><br>
<br>
&nbsp;&nbsp;<span class="L0S52">IF&nbsp;</span>sy<span class="L0S70">-</span>subrc&nbsp;<span class="L0S55">=&nbsp;</span><span class="L0S32">0</span><span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">PERFORM&nbsp;</span>add_message&nbsp;<span class="L0S52">USING&nbsp;</span>icon_led_green<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;gs_e071<span class="L0S70">-</span>obj_name<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;p_trkor<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S33">''</span><span class="L0S55">.</span><br>
&nbsp;&nbsp;<span class="L0S52">ELSE</span><span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">PERFORM&nbsp;</span>add_message&nbsp;<span class="L0S52">USING&nbsp;</span>icon_led_red<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;gs_e071<span class="L0S70">-</span>obj_name<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S33">''</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">TEXT</span><span class="L0S70">-</span>e06<span class="L0S55">.</span><br>
&nbsp;&nbsp;<span class="L0S52">ENDIF</span><span class="L0S55">.</span><br>
<br>
<span class="L0S52">ENDFORM</span><span class="L0S55">.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="L0S31">&quot;&nbsp;ADD_REPORT_IN_TRANSPORT</span><br>
<span class="L0S31">*&amp;---------------------------------------------------------------------*</span><br>
<span class="L0S31">*&amp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Form&nbsp;&nbsp;DISPLAY_RESULTS</span><br>
<span class="L0S31">*&amp;---------------------------------------------------------------------*</span><br>
<span class="L0S52">FORM&nbsp;</span>display_results&nbsp;<span class="L0S55">.</span><br>
<br>
&nbsp;&nbsp;<span class="L0S52">IF&nbsp;</span><span class="L0S52">NOT&nbsp;</span>gt_alv[]&nbsp;<span class="L0S52">IS&nbsp;</span><span class="L0S52">INITIAL</span><span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">TRY</span><span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cl_salv_table<span class="L0S70">=&gt;</span>factory<span class="L0S55">(</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">IMPORTING</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r_salv_table&nbsp;<span class="L0S55">=&nbsp;</span>cl_salv_table<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">CHANGING</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;t_table&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S55">=&nbsp;</span>gt_alv[]&nbsp;<span class="L0S55">)</span><span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">CATCH&nbsp;</span>cx_salv_msg<span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">ENDTRY</span><span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;cl_salv_functions&nbsp;<span class="L0S55">=&nbsp;</span>cl_salv_table<span class="L0S70">-&gt;</span>get_functions<span class="L0S55">(&nbsp;</span><span class="L0S55">)</span><span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;cl_salv_functions<span class="L0S70">-&gt;</span>set_all<span class="L0S55">(&nbsp;</span><span class="L0S33">'X'&nbsp;</span><span class="L0S55">)</span><span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">IF&nbsp;</span>cl_salv_table&nbsp;<span class="L0S52">IS&nbsp;</span><span class="L0S52">BOUND</span><span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cl_salv_table<span class="L0S70">-&gt;</span>display<span class="L0S55">(&nbsp;</span><span class="L0S55">)</span><span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">ENDIF</span><span class="L0S55">.</span><br>
&nbsp;&nbsp;<span class="L0S52">ENDIF</span><span class="L0S55">.</span><br>
<br>
<span class="L0S52">ENDFORM</span><span class="L0S55">.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="L0S31">&quot;&nbsp;DISPLAY_RESULTS</span><br>
<span class="L0S31">*&amp;---------------------------------------------------------------------*</span><br>
<span class="L0S31">*&amp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Form&nbsp;&nbsp;UPDATE_OBJECTS</span><br>
<span class="L0S31">*&amp;---------------------------------------------------------------------*</span><br>
<span class="L0S52">FORM&nbsp;</span>update_objects&nbsp;<span class="L0S55">.</span><br>
<br>
<br>
&nbsp;&nbsp;gv_tot&nbsp;<span class="L0S55">=&nbsp;</span><span class="L0S52">lines</span><span class="L0S55">(&nbsp;</span>gt_file&nbsp;<span class="L0S55">)</span><span class="L0S55">.</span><br>
<br>
&nbsp;&nbsp;<span class="L0S52">LOOP&nbsp;</span><span class="L0S52">AT&nbsp;</span>gt_file&nbsp;<span class="L0S52">INTO&nbsp;</span>gs_file<span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;gv_cur&nbsp;<span class="L0S55">=&nbsp;</span>sy<span class="L0S70">-</span>tabix<span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">TRANSLATE&nbsp;</span>gs_file<span class="L0S70">-</span>object_name&nbsp;<span class="L0S52">TO&nbsp;</span><span class="L0S52">UPPER&nbsp;</span><span class="L0S52">CASE</span><span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">IF&nbsp;</span>gs_file<span class="L0S70">-</span>object_name<span class="L0S55">(</span><span class="L0S32">5</span><span class="L0S55">)&nbsp;</span><span class="L0S52">NE&nbsp;</span><span class="L0S33">'SAPLZ'&nbsp;</span><span class="L0S52">AND</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;gs_file<span class="L0S70">-</span>object_name<span class="L0S55">(</span><span class="L0S32">5</span><span class="L0S55">)&nbsp;</span><span class="L0S52">NE&nbsp;</span><span class="L0S33">'SAPMZ'&nbsp;</span><span class="L0S52">AND</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;gs_file<span class="L0S70">-</span>object_name<span class="L0S55">(</span><span class="L0S32">2</span><span class="L0S55">)&nbsp;</span><span class="L0S52">NE&nbsp;</span><span class="L0S33">'LZ'&nbsp;</span><span class="L0S52">AND</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;gs_file<span class="L0S70">-</span>object_name<span class="L0S55">(</span><span class="L0S32">1</span><span class="L0S55">)&nbsp;</span><span class="L0S52">NE&nbsp;</span><span class="L0S33">'Z'&nbsp;</span><span class="L0S52">AND</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;gs_file<span class="L0S70">-</span>object_name_3<span class="L0S55">(</span><span class="L0S32">2</span><span class="L0S55">)&nbsp;</span><span class="L0S52">NE&nbsp;</span><span class="L0S33">'LZ'</span><span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">PERFORM&nbsp;</span>add_message&nbsp;<span class="L0S52">USING&nbsp;</span>icon_led_red<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;gs_file<span class="L0S70">-</span>object_name<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S33">''</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">TEXT</span><span class="L0S70">-</span>e07<span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">CONTINUE</span><span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">ENDIF</span><span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">PERFORM&nbsp;</span>get_last_request<span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">IF&nbsp;</span>gv_trkorr&nbsp;<span class="L0S52">IS&nbsp;</span><span class="L0S52">NOT&nbsp;</span><span class="L0S52">INITIAL</span><span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">PERFORM&nbsp;</span>check_last_request_in_progress<span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">ENDIF</span><span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">IF&nbsp;</span>gv_trkorr&nbsp;<span class="L0S52">IS&nbsp;</span><span class="L0S52">INITIAL&nbsp;</span><span class="L0S52">OR</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;gv_last_request_transported&nbsp;<span class="L0S55">=&nbsp;</span><span class="L0S33">'X'</span><span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">PERFORM&nbsp;</span>get_source_code<span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">IF&nbsp;</span><span class="L0S52">NOT&nbsp;</span>gt_repos[]&nbsp;<span class="L0S52">IS&nbsp;</span><span class="L0S52">INITIAL</span><span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">PERFORM&nbsp;</span>update_source_code<span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">IF&nbsp;</span>p_test&nbsp;<span class="L0S55">=&nbsp;</span><span class="L0S33">'X'</span><span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">PERFORM&nbsp;</span>add_message&nbsp;<span class="L0S52">USING&nbsp;</span>icon_led_green<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;gs_file<span class="L0S70">-</span>object_name<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S33">''</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">TEXT</span><span class="L0S70">-</span><span class="L0S32">001</span><span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">ELSE</span><span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">IF&nbsp;</span>gv_source_updated&nbsp;<span class="L0S55">=&nbsp;</span><span class="L0S33">'X'</span><span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">PERFORM&nbsp;</span>save_source_code<span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">IF&nbsp;</span>gv_source_saved&nbsp;<span class="L0S55">=&nbsp;</span><span class="L0S33">'X'</span><span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">PERFORM&nbsp;</span>add_report_in_transport<span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">ENDIF</span><span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">ENDIF</span><span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">ENDIF</span><span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">ENDIF</span><span class="L0S55">.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="L0S52">ENDIF</span><span class="L0S55">.</span><br>
&nbsp;&nbsp;<span class="L0S52">ENDLOOP</span><span class="L0S55">.</span><br>
<br>
<span class="L0S52">ENDFORM</span><span class="L0S55">.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="L0S31">&quot;&nbsp;UPDATE_OBJECTS</span></span>
</body>